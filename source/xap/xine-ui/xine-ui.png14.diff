--- ./src/xitk/Imlib-light/load.c.orig	2003-07-14 17:44:10.000000000 -0500
+++ ./src/xitk/Imlib-light/load.c	2010-02-19 13:41:27.000000000 -0600
@@ -193,7 +193,7 @@
     return 0;
   fread(buf, 1, 8, f);
   rewind(f);
-  return (int)png_check_sig(buf, 8);
+  return (int)(png_sig_cmp(buf, 0, 8) == 0);
 }
 
 ImlibImage * Imlib_load_image(ImlibData * id, char *file) {
