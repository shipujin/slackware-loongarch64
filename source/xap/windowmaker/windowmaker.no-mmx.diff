--- ./configure.ac.01	2008-06-02 08:42:30.000000000 +0200
+++ ./configure.ac	2008-06-02 08:46:49.000000000 +0200
@@ -190,7 +190,15 @@
 # until we fix it, leave it disabled
 asm_support=no
 mmx_support=no
-if test "$ac_cv_prog_gcc" = yes; then
+
+check_for_mmx_support=yes
+AC_ARG_ENABLE(mmx,
+  [  --disable-mmx          disable compilation of MMX inline assembly ],
+  [if test x$enableval != xyes; then
+    check_for_mmx_support=no
+  fi])
+
+if test "$ac_cv_prog_gcc" = yes -a "$check_for_mmx_support" = yes; then
 case $host_cpu in
 *i?86*)
     # gcc-3.3 or newer complains about some of our stuff without this
