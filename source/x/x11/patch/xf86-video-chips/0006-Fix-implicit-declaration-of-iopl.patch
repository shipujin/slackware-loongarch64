From c421f2477c99990d0dc712d6aece981fa6c961e5 Mon Sep 17 00:00:00 2001
From: Jeremy Huddleston <jeremyhu@apple.com>
Date: Tue, 18 Oct 2011 23:09:09 -0700
Subject: [PATCH 6/9] Fix implicit declaration of iopl
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

warning: implicit declaration of function ‘iopl’ [-Wimplicit-function-declaration]

Signed-off-by: Jeremy Huddleston <jeremyhu@apple.com>
---
 util/iopl.h |    6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/util/iopl.h b/util/iopl.h
index d7890b3..e08207c 100644
--- a/util/iopl.h
+++ b/util/iopl.h
@@ -3,6 +3,12 @@
 #  include <machine/pio.h>
 #  include <machine/sysarch.h>
 #else
+#  if defined(__linux__)
+/* Can't because <sys/iopl.h> provides conflicting inb, outb, etc
+ * #    include <sys/io.h>
+ */
+int iopl(int level);
+#  endif
 #  if defined(SVR4) && defined(i386)
 #    include <sys/types.h>
 #    ifdef NCR
-- 
1.7.9.4

