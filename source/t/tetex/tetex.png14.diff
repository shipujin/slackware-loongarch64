--- ./texk/dvipdfm/pngimage.c.orig	2002-12-25 11:51:16.000000000 -0600
+++ ./texk/dvipdfm/pngimage.c	2010-02-19 11:43:18.000000000 -0600
@@ -42,7 +42,7 @@
   rewind (png_file);
   if (fread (sigbytes, 1, sizeof(sigbytes), png_file) !=
       sizeof(sigbytes) ||
-      (!png_check_sig (sigbytes, sizeof(sigbytes))))
+      (!(png_sig_cmp(sigbytes, 0, sizeof(sigbytes)) == 0)))
     return 0;
   else
     return 1;
--- ./texk/dvipdfm/thumbnail.c.orig	2002-12-25 11:51:16.000000000 -0600
+++ ./texk/dvipdfm/thumbnail.c	2010-02-19 11:42:41.000000000 -0600
@@ -79,7 +79,7 @@
   }
   if (fread (sigbytes, 1, sizeof(sigbytes), thumb_file) !=
       sizeof(sigbytes) ||
-      (!png_check_sig (sigbytes, sizeof(sigbytes)))) {
+      (!(png_sig_cmp(sigbytes, 0, sizeof(sigbytes)) == 0))) {
     fprintf (stderr, "\nThumbnail not a png file! Skipping\n");
     return NULL;
   }
--- ./libs/gd/gd_png.c.orig	2004-10-28 13:09:52.000000000 -0500
+++ ./libs/gd/gd_png.c	2010-02-19 11:52:06.000000000 -0600
@@ -143,7 +143,7 @@
   /* first do a quick check that the file really is a PNG image; could
    * have used slightly more general png_sig_cmp() function instead */
   gdGetBuf (sig, 8, infile);
-  if (!png_check_sig (sig, 8))
+  if (!(png_sig_cmp(sig, 0, 8) == 0))
     return NULL;		/* bad signature */
 
 #ifndef PNG_SETJMP_NOT_SUPPORTED
