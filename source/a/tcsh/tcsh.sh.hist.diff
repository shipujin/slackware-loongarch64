--- ./sh.hist.c.orig	2019-12-04 11:51:54.000000000 -0600
+++ ./sh.hist.c	2020-03-18 14:14:31.488245707 -0500
@@ -1292,7 +1292,7 @@
 #endif
 	    }
 	    getexit(osetexit);
-	    if (setexit())
+	    if (!setexit())
 		loadhist(fname, 1);
 	    resexit(osetexit);
 	}
