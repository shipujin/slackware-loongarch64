--- ./lib/argp-fmtstream.h.orig	2006-01-21 04:37:18.000000000 -0600
+++ ./lib/argp-fmtstream.h	2009-03-15 15:17:22.000000000 -0500
@@ -198,8 +198,12 @@
 #endif
 
 #ifndef ARGP_FS_EI
+#ifdef __GNUC_STDC_INLINE__
+#define ARGP_FS_EI extern inline __attribute__((__gnu_inline__))
+#else
 #define ARGP_FS_EI extern inline
 #endif
+#endif
 
 ARGP_FS_EI size_t
 __argp_fmtstream_write (argp_fmtstream_t __fs,
--- ./lib/argp.h.orig	2007-03-30 11:20:19.000000000 -0500
+++ ./lib/argp.h	2009-03-15 15:16:34.000000000 -0500
@@ -580,7 +580,11 @@
 # endif
 
 # ifndef ARGP_EI
-#  define ARGP_EI extern __inline__
+#  if defined __GNUC_STDC_INLINE__
+#   define ARGP_EI extern __inline__ __attribute__((__gnu_inline__))
+#  else
+#   define ARGP_EI extern __inline__
+#  endif
 # endif
 
 ARGP_EI void
