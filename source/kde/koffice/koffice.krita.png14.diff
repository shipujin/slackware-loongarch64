--- ./krita/ui/kis_png_converter.cpp.orig	2010-01-08 04:42:41.000000000 -0600
+++ ./krita/ui/kis_png_converter.cpp	2010-02-25 12:01:11.000000000 -0600
@@ -404,7 +404,7 @@
 
     png_byte signature[8];
     iod->peek((char*)signature, 8);
-    if (!png_check_sig(signature, 8)) {
+    if (!(png_sig_cmp(signature, 0, 8) == 0)) {
         iod->close();
         return (KisImageBuilder_RESULT_BAD_FETCH);
     }
