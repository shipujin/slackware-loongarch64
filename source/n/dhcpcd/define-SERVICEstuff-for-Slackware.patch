From 293f23ad36f2c84cf67c483d944157834f4417a6 Mon Sep 17 00:00:00 2001
From: Robby Workman <rworkman@slackware.com>
Date: Wed, 23 May 2012 21:33:30 -0500
Subject: [PATCH] configure: Define SERVICE* for Slackware

Slackware uses /etc/rc.d/rc.$service instead of just $service,
so configure doesn't find those.  This patch overrides the
defaults for SERVICEEXISTS, SERVICECMD, and SERVICESTATUS.
---
 configure |    6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/configure b/configure
index b334497..e6554ca 100755
--- a/configure
+++ b/configure
@@ -413,6 +413,12 @@ if [ -z "$SERVICECMD" ]; then
 		fi
 	done
 fi
+if [ -e /etc/slackware-version ]; then
+	echo "Overriding service status check for Slackware Linux"
+	SERVICEEXISTS="[ -x /etc/rc.d/rc.\$1 ]"
+	SERVICECMD="/etc/rc.d/rc.\$1 \$2"
+	SERVICESTATUS="/etc/rc.d/rc.\$1 status 1>/dev/null 2>&1"
+fi
 if [ -e /etc/arch-release ]; then
 	echo "Overriding service status check for Arch Linux"
 	SERVICESTATUS="[ -e /var/run/daemons/\$1 ]"
-- 
1.7.10.1

