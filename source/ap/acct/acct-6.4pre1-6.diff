--- acct-6.4~pre1.orig/debian/rules
+++ acct-6.4~pre1/debian/rules
@@ -0,0 +1,90 @@
+#!/usr/bin/make -f
+
+# Uncomment this to turn on verbose mode.
+#export DH_VERBOSE=1
+
+include /usr/share/dpatch/dpatch.make
+
+# These are used for cross-compiling and for saving the configure script
+# from having to guess our platform (since we know it already)
+DEB_HOST_GNU_TYPE   ?= $(shell dpkg-architecture -qDEB_HOST_GNU_TYPE)
+DEB_BUILD_GNU_TYPE  ?= $(shell dpkg-architecture -qDEB_BUILD_GNU_TYPE)
+
+CFLAGS = -Wall -g
+
+ifneq (,$(findstring noopt,$(DEB_BUILD_OPTIONS)))
+	CFLAGS += -O0
+else
+	CFLAGS += -O2
+endif
+
+config.status: configure patch
+	dh_testdir
+
+	# Configuring package
+	CFLAGS="$(CFLAGS)" ./configure --host=$(DEB_HOST_GNU_TYPE) --build=$(DEB_BUILD_GNU_TYPE) --prefix=/usr --mandir=\$${prefix}/share/man --infodir=\$${prefix}/share/info
+
+build: build-stamp
+build-stamp: config.status
+	dh_testdir
+
+	# Building package
+	$(MAKE)
+	texi2html -verbose -monolithic accounting.texi
+
+	touch build-stamp
+
+clean: unpatch
+	dh_testdir
+	dh_testroot
+	rm -f build-stamp
+
+	# Cleaning package
+	[ ! -f Makefile ] || $(MAKE) distclean
+	rm -f accounting.html
+ifneq "$(wildcard /usr/share/misc/config.sub)" ""
+	cp -f /usr/share/misc/config.sub config.sub
+endif
+ifneq "$(wildcard /usr/share/misc/config.guess)" ""
+	cp -f /usr/share/misc/config.guess config.guess
+endif
+
+	dh_clean
+
+install: build
+	dh_testdir
+	dh_testroot
+	dh_clean -k
+	dh_installdirs
+
+	# Installing package
+	$(MAKE) install DESTDIR=$(CURDIR)/debian/acct
+
+	# Removing last, it's in the sysvinit package instead.
+	rm -f debian/acct/usr/bin/last
+	rm -f debian/acct/usr/share/man/man1/last.1
+
+binary-indep: build install
+
+binary-arch: build install
+	dh_testdir
+	dh_testroot
+	dh_installchangelogs ChangeLog
+	dh_installdocs
+	dh_install
+	dh_installinit
+	dh_installcron
+	dh_installinfo
+	dh_installman
+	dh_link
+	dh_strip
+	dh_compress
+	dh_fixperms
+	dh_installdeb
+	dh_shlibdeps
+	dh_gencontrol
+	dh_md5sums
+	dh_builddeb
+
+binary: binary-indep binary-arch
+.PHONY: build clean binary-indep binary-arch binary install
--- acct-6.4~pre1.orig/debian/manpages
+++ acct-6.4~pre1/debian/manpages
@@ -0,0 +1 @@
+debian/manpage/*
--- acct-6.4~pre1.orig/debian/watch
+++ acct-6.4~pre1/debian/watch
@@ -0,0 +1,2 @@
+version=3
+http://ftp.gnu.org/gnu/acct/acct-(.*)\.tar\.gz
--- acct-6.4~pre1.orig/debian/postrm
+++ acct-6.4~pre1/debian/postrm
@@ -0,0 +1,21 @@
+#!/bin/sh
+
+set -e
+
+case "$1" in
+	purge)
+		rm -rv /var/log/account
+		;;
+
+	remove|upgrade|failed-upgrade|abort-install|abort-upgrade|disappear)
+
+		;;
+
+	*)
+		echo "postrm called with unknown argument \`$1'" >&2
+		;;
+esac
+
+#DEBHELPER#
+
+exit 0
--- acct-6.4~pre1.orig/debian/default
+++ acct-6.4~pre1/debian/default
@@ -0,0 +1,9 @@
+# Defaults for acct
+
+# If you want to keep acct installed, but not started automatically, set this
+# variable to 0. Because /etc/cron.daily/acct calls the initscript daily, it is
+# not sufficient to stop acct once after booting if your machine remains up.
+ACCT_ENABLE="1"
+
+# Amount of days that the logs are kept.
+ACCT_LOGGING="30"
--- acct-6.4~pre1.orig/debian/postinst
+++ acct-6.4~pre1/debian/postinst
@@ -0,0 +1,24 @@
+#!/bin/sh
+
+set -e
+
+case "$1" in
+	configure)
+		mkdir -p /var/log/account
+		touch /var/log/account/pacct
+		chmod 0640 /var/log/account/pacct*
+		chown root:adm /var/log/account/pacct*
+		;;
+
+	abort-upgrade|abort-remove|abort-deconfigure)
+
+		;;
+
+	*)
+		echo "postinst called with unknown argument \`$1'" >&2
+		;;
+esac
+
+#DEBHELPER#
+
+exit 0
--- acct-6.4~pre1.orig/debian/cron.monthly
+++ acct-6.4~pre1/debian/cron.monthly
@@ -0,0 +1,45 @@
+#!/bin/sh
+
+LOGROTATE="/etc/cron.daily/logrotate"
+
+test -x /usr/sbin/accton || exit 0
+
+echo "Login accounting for the month ended `date`:" > /var/log/wtmp.report
+echo >> /var/log/wtmp.report
+
+# The logrotate script happens to run before this one, effectively swallowing
+# all information out of wtmp before we can use it. Hence, we need to use the
+# previous file. Bad hack. Too bad we never heard from the logrotate maintainer
+# about this ...
+
+if [ -f "${LOGROTATE}" ] && [ -x /usr/sbin/logrotate ]
+then
+	# make sure wtmp.1 exists
+	if [ -f /var/log/wtmp.1 ]
+	then
+		LOGFILE="/var/log/wtmp.1"
+	fi
+		if [ -f /var/log/wtmp.1.gz ]
+	then
+		LOGFILE2="`tempfile`"
+	fi
+		if [ -n "${LOGFILE}" ] && [ -n "${LOGFILE2}" ]
+	then
+		ac -f "${LOGFILE2}" -f "${LOGFILE}" -p | sort -nr -k2 >> /var/log/wtmp.report
+		echo >> /var/log/wtmp.report
+		last -f "${LOGFILE2}" >> /var/log/wtmp.report
+	elif [ -n "${LOGFILE}" ] && [ -z "${LOGFILE2}" ]
+	then
+		ac -f "${LOGFILE}" -p | sort -nr -k2 >> /var/log/wtmp.report
+		echo >> /var/log/wtmp.report
+		last -f "${LOGFILE}" >> /var/log/wtmp.report
+	fi
+		rm -f "${LOGFILE2}"
+else
+	ac -p | sort -nr -k2 >> /var/log/wtmp.report
+	echo >> /var/log/wtmp.report
+	last >> /var/log/wtmp.report
+fi
+
+chown root:adm /var/log/wtmp.report
+chmod 640 /var/log/wtmp.report
--- acct-6.4~pre1.orig/debian/doc-base
+++ acct-6.4~pre1/debian/doc-base
@@ -0,0 +1,15 @@
+Document: acct
+Title: The GNU Accounting utilities
+Author: Noel Cragg
+Abstract: The GNU Accounting utilities for process and login accounting
+ GNU Accounting Utilities is a set of utilities which reports and summarizes
+ data about user connect times and process execution statistics.
+ .
+ "Login accounting" provides summaries of system resource usage based on connect
+ time, and "process accounting" provides summaries based on the commands
+ executed on the system.
+Section: Apps/System
+
+Format: HTML
+Index: /usr/share/doc/acct/accounting.html
+Files: /usr/share/doc/acct/accounting.html
--- acct-6.4~pre1.orig/debian/copyright
+++ acct-6.4~pre1/debian/copyright
@@ -0,0 +1,34 @@
+This package was debianized by Daniel Baumann <daniel@debian.org> on
+Sat, 18 Mar 2006 18:38:00 +0100.
+
+It was downloaded from:
+
+	<http://ftp.gnu.org/gnu/acct/>
+
+Upstream Author:
+
+	Tim Schmielau <tim@physik3.uni-rostock.de>
+
+License:
+
+	Copyright (C) 1993-2006 Free Software Foundation, Inc.
+
+	This program is free software; you can redistribute it and/or modify
+	it under the terms of the GNU General Public License as published by
+	the Free Software Foundation; either version 2 of the License, or
+	(at your option) any later version.
+
+	This program is distributed in the hope that it will be useful,
+	but WITHOUT ANY WARRANTY; without even the implied warranty of
+	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+	GNU General Public License for more details.
+
+	You should have received a copy of the GNU General Public License
+	along with this program; if not, write to the Free Software
+	Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA
+
+On Debian systems, the complete text of the GNU General Public License
+can be found in /usr/share/common-licenses/GPL file.
+
+The Debian packaging is (C) 2006-2007, Daniel Baumann <daniel@debian.org> and
+is licensed under the GPL, see `/usr/share/common-licenses/GPL-2'.
--- acct-6.4~pre1.orig/debian/init.d
+++ acct-6.4~pre1/debian/init.d
@@ -0,0 +1,97 @@
+#!/bin/sh
+
+### BEGIN INIT INFO
+# Provides:          acct
+# Required-Start:    $remote_fs $syslog
+# Required-Stop:     $remote_fs $syslog
+# Default-Start:     2 3 4 5
+# Default-Stop:      0 1 6
+# Short-Description: process and login accounting
+# Description:       GNU Accounting Utilities is a set of utilities which
+#                    reports and summarizes data about user connect times and
+#                    process execution statistics.
+### END INIT INFO
+
+PATH=/sbin:/bin:/usr/sbin:/usr/bin
+DAEMON=/usr/sbin/accton
+NAME=acct
+DESC="process accounting"
+
+test -x $DAEMON || exit 0
+
+# Include acct defaults if available
+if [ -f /etc/default/acct ]
+then
+	. /etc/default/acct
+else
+	ACCT_ENABLE="1"
+	ACCT_LOGGING="30"
+fi
+
+set -e
+
+case "$1" in
+	start)
+		if [ "${ACCT_ENABLE}" = "1" ]
+		then
+
+		# Have to turn this on to be able to test the return code
+		set +e
+
+		echo -n "Starting $DESC: "
+		/usr/sbin/accton /var/log/account/pacct 2>/dev/null
+
+		rv=$?
+		if [ $rv -eq 0 ]
+		then
+			echo "$NAME."
+		elif [ $rv -eq 38 ]
+		then
+			echo "failed."
+			echo "Process accounting not available on this system."
+		elif [ $rv -eq 16 ]
+		then
+			echo "failed."
+			echo "Process accounting already running on this system."
+		else
+			logger -p daemon.err "Unexpected error code $rv received in /etc/init.d/acct"
+		fi
+
+		fi
+
+		set -e
+		;;
+
+	stop)
+		echo -n "Stopping $DESC: "
+
+		# Have to turn this on to be able to test the return code
+		set +e
+
+		/usr/sbin/accton off 2>/dev/null
+
+		if [ $? -eq 0 ]
+		then
+			echo "$NAME."
+		else
+			echo "failed."
+			echo "Process accounting not available on this system."
+		fi
+
+		set -e
+		;;
+
+	restart|force-reload)
+		$0 stop
+		sleep 1
+		$0 start
+		;;
+
+	*)
+		N=/etc/init.d/$NAME
+		echo "Usage: $N {start|stop|restart|force-reload}" >&2
+		exit 1
+		;;
+esac
+
+exit 0
--- acct-6.4~pre1.orig/debian/changelog
+++ acct-6.4~pre1/debian/changelog
@@ -0,0 +1,602 @@
+acct (6.4~pre1-6) unstable; urgency=medium
+
+  * Adjusted lsb header of init script, thanks Petter Reinholdtsen
+    <pere@hungry.com> (Closes: #466279).
+
+ -- Daniel Baumann <daniel@debian.org>  Sat,  8 Mar 2008 09:04:00 +0100
+
+acct (6.4~pre1-5) unstable; urgency=low
+
+  * Bumped to new policy.
+  * Using new homepage field in control.
+  * Don't hide make errors in clean target.
+  * Removing historic changes entries in the first lines of changelog
+    entries, they are present in the actual entries anyway but are
+    causing lintian noise.
+
+ -- Daniel Baumann <daniel@debian.org>  Thu, 27 Dec 2007 08:45:00 +0100
+
+acct (6.4~pre1-4) unstable; urgency=low
+
+  * Minor cleanups.
+  * Bumped to debhelper 5.
+  * Added lsb header to init.d.
+  * Added the remaining things to cron.monthly, other things were solved
+    different already (Closes: #378359).
+
+ -- Daniel Baumann <daniel@debian.org>  Sun, 29 Apr 2007 12:27:00 +0200
+
+acct (6.4~pre1-3) unstable; urgency=medium
+
+  * Adapted the patch from Dean Gaudet <dean-debian@arctic.org> to add
+    lastcomm -f - stdin and --forwards support to current acct
+    (Closes: #262583).
+  * Fixed cron.monthly to not process the non-rotated logfile twice if the
+    rotated one isn't existing (Closes: #51796).
+
+ -- Daniel Baumann <daniel@debian.org>  Sun, 5 Nov 2006 13:55:00 +0100
+
+acct (6.4~pre1-2) unstable; urgency=medium
+
+  * Forgot to remove unused var in init.d (Closes: #397134).
+
+ -- Daniel Baumann <daniel@debian.org>  Sun, 5 Nov 2006 13:55:00 +0100
+
+acct (6.4~pre1-1) unstable; urgency=medium
+
+  * New email address.
+  * Hardcoding location of the log files, using environment variables does not
+    work for all binaries (Closes: #377835, #380744, #385626, #392045, #396444).
+  * Adjusted init.d script to log to syslog directly as suggested by
+    Gian Piero Carrubba <gpcarrubba@libero.it> (Closes: #208939).
+  * Updated sort call in cron.monthly to new syntax as found out by
+    Gilles Mocellin <gilles.mocellin@free.fr> and others
+    (Closes: #375712, #381492).
+  * Updated ac call in cron.monthly to process both $WTMP and /var/log/wtmp.1
+    (Closes: #324910).
+  * Fixed spelling mistake in default (Closes: #392023).
+  * Fixed spelling mistake and incompleteness in dump-acct.8 (Closes: #392134).
+
+ -- Daniel Baumann <daniel@debian.org>  Sat,  4 Nov 2006 10:10:00 +0100
+
+acct (6.3.99+6.4pre1-4) unstable; urgency=low
+
+  * Fixed typo in init.d (Closes: #361109, #361109).
+
+ -- Daniel Baumann <daniel.baumann@panthera-systems.net>  Sun, 25 Jun 2006 08:37:00 +0200
+
+acct (6.3.99+6.4pre1-3) unstable; urgency=low
+
+  * Storing logging information for a month instead of a week (Closes: #271466).
+  * Rewritten init.d and fixed accton call in init.d (Closes: #361109, #361109).
+  * Using /etc/default/acct now to store settings
+    (Closes: #219194, #353034, #361111).
+  * Fixed manpage error (Closes: #360098, #364589)
+
+ -- Daniel Baumann <daniel.baumann@panthera-systems.net>  Fri, 23 Jun 2006 06:53:00 +0200
+
+acct (6.3.99+6.4pre1-2) unstable; urgency=low
+
+  * Removed useless debconf message (Closes: #358698).
+  * Removed last documentation (Closes: #360302).
+
+ -- Daniel Baumann <daniel.baumann@panthera-systems.net>  Sun, 28 May 2006 05:36:00 +0200
+
+acct (6.3.99+6.4pre1-1) unstable; urgency=low
+
+  * New maintainer (Closes: #357362).
+  * New upstream release:
+    - supporting v3 file format (Closes: #289648, #291154, #327134)
+  * Redone debian directory:
+    - added watch file.
+    - corrected copyright file (Closes: #290052).
+    - fixed debconf depends (Closes: #331731).
+    - removed references to non-existing pacct in dump-acct.8 (Closes: #293837).
+    - removed dpatches: one was merged upstream, manpages are broken-out, and
+      /usr/bin/last ist removed after compilation (less intrusive).
+    - added Czech debconf translation (Closes: #282320, #287291).
+    - added Finnish debconf translation (Closes: #303851).
+    - added Vietnamese debconf translation (Closes: #307597).
+    - updated Dansk debconf translation (Closes: #241243).
+    - updated German debconf translation (Closes: #314136).
+  * Acknowledge NMU:
+    - fixed gzipped logfile handling in cron.monthly
+      (Closes: #187538, #208220, #212961).
+    - adjusted logfile path for logger call in init.d (Closes: #208939).
+
+ -- Daniel Baumann <daniel.baumann@panthera-systems.net>  Sat, 18 Mar 2006 18:38:00 +0100
+
+acct (6.3.5-39) unstable; urgency=low
+
+  * Acknowledging NMU's. Thanks. (closes: #187539, #198581, #198581)
+  * Added Co-Maintainer (me) to Uploaders field.
+  * Added/updated polish, greek, portuguese, japanese translations.
+    (closes: #208954, #229531, #216200, #222063, #229499, #229523)
+  * Bumped Standars-Version to 3.6.1.
+
+ -- AndrÃ©s RoldÃ¡n <aroldan@debian.org>  Sun,  1 Feb 2004 23:02:22 +0000
+
+acct (6.3.5-38.2) unstable; urgency=low
+
+  * Fix gzip support in cron.monthly to not delete/recreate the wtmp file
+    (gunzip: /var/log/wtmp.1 already exists; not overwritten)
+
+ -- Matt Zimmerman <mdz@debian.org>  Sun,  1 Feb 2004 12:00:00 -0800
+
+acct (6.3.5-38.1) unstable; urgency=low
+
+  * NMU with maintainer consent
+  * Handled gzipped wtmp file. Closes: #187539. Thanks Tero Tilus
+  * Switch to po-debconf templates. Closes: #198581
+  * Added danish templates translation (converted to gettext). Closes: #174728
+
+ -- Christian Perrier <bubulle@debian.org>  Mon, 28 Jul 2003 16:32:05 +0200
+
+acct (6.3.5-38) unstable; urgency=low
+
+  * New maintainer (closes: #177233).
+  * Package builded from the scratch.
+  * Fixed danish debconf template.
+  * Fixed broken output on ia64 and alpha (closes: #169099).
+
+ -- Luis Bustamante <luferbu@fluidsignal.com>  Sun, 19 Jan 2003 01:26:12 -0500
+
+acct (6.3.5-37) unstable; urgency=low
+
+  * debian/dump-acct.8: Clarified meaning of time field (Closes: #177020)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Fri, 17 Jan 2003 19:22:55 -0600
+
+acct (6.3.5-36) unstable; urgency=low
+
+  * debian/template: Added new debconf text in Danish (Closes: #174727)
+  * debian/control: Upped debconf versioned Depends to ">= 1.2.9" (lintian)
+  * debian/control: Small editing in Description (lintian)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Wed,  1 Jan 2003 08:56:23 -0600
+
+acct (6.3.5-35) unstable; urgency=low
+
+  * etc/init.d/acct: Applied patch by ralf.hildebrandt@charite.de to rely
+    only on 'uname -r' as 'uname -a' fails on hppa (Closes: 165535)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Sun, 20 Oct 2002 19:17:43 -0500
+
+acct (6.3.5-34) unstable; urgency=low
+
+  * debian/control: s|Debian Linux|Debian GNU/Linux| (Closes: #150886)
+  * debian/rules: Move #DEBHELPER# to end so that /etc/init.d/acct is
+    called after modes/owner chg on /var/account/pacct (Closes: #153905)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Mon, 22 Jul 2002 19:44:05 -0500
+
+acct (6.3.5-33) unstable; urgency=low
+
+  * debian/cron.monthly: Test for /var/log/wtmp.1 (Closes: #146918)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Sat, 18 May 2002 12:20:57 -0500
+
+acct (6.3.5-32) unstable; urgency=low
+
+  * debian/templates: Updated Russian debconf template (Closes: #136918)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Sat, 18 May 2002 12:20:10 -0500
+
+acct (6.3.5-31) unstable; urgency=low
+
+  * debian/templates: Updated French debconf template (Closes: #134624)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Tue, 26 Feb 2002 20:49:57 -0600
+
+acct (6.3.5-30) unstable; urgency=low
+
+  * debian/templates: New debconf text in russian (Closes: #112535)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Fri, 14 Dec 2001 18:55:33 -0600
+
+acct (6.3.5-29) unstable; urgency=low
+
+  * debian/templates: Changed Type from text to note (Closes: #106327)
+  * debian/templates: New debconf text in spanish (Closes: #106935)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Tue, 31 Jul 2001 22:17:49 -0500
+
+acct (6.3.5-28) unstable; urgency=low
+
+  * sa.c: Applied patch by LaMont Jones which enables compilation by
+    gcc-3.0, the default compiler on the parisc architecure (Closes: #103147)
+  * debian/prerm: Don't call "/etc/init.d/acct stop" explicitly as
+    debhelper's dh_installinit also adds a call.
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Mon,  2 Jul 2001 21:40:05 -0500
+
+acct (6.3.5-27) unstable; urgency=low
+
+  * debian/{cron.daily,postinst}: change pacct to mode 0640,root.adm.
+    Thanks to Manuel López Moreno <mlm@luname.net> (Closes: #86045)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Tue,  1 May 2001 22:21:27 -0500
+
+acct (6.3.5-26) unstable; urgency=low
+
+  * debian/templates: Added text for pt translation (Closes: #89439)
+  * debian/{pre,post}{inst,rm}: lintian cleanups
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Thu, 19 Apr 2001 21:54:36 -0500
+
+acct (6.3.5-25) unstable; urgency=low
+
+  * debian/control: Added Standards-Version: back in (Closes: #86925)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Wed, 21 Feb 2001 21:01:50 -0600
+
+acct (6.3.5-24) unstable; urgency=low
+
+  * debian/control: Added Build-Depends on texinfo (Closes: #85073)
+  * For good measure, added a few more suggested by dpkg-genbuilddeps
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Wed,  7 Feb 2001 22:29:02 -0600
+
+acct (6.3.5-23) unstable; urgency=low
+
+  * debian/templates: Added non-English debconf text text for sv, nl, es
+    and a new one for fr. (Closes: #83478, #83583, #84017, #84411)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Sun,  4 Feb 2001 19:56:09 -0600
+
+acct (6.3.5-22) unstable; urgency=low
+
+  * debian/control: Build-Depends on texi2html and no longer on tetex-bin
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Thu,  4 Jan 2001 20:42:54 -0600
+
+acct (6.3.5-21) unstable; urgency=low
+
+  * debian/cron.monthly: Special case for logrotate (Closes: #68043)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Sun,  6 Aug 2000 16:15:23 -0400
+
+acct (6.3.5-20) unstable; urgency=low
+
+  * debian/control: Add texi2html to Build-Depends (Closes: #67531)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Fri, 21 Jul 2000 17:22:55 -0400
+
+acct (6.3.5-19) unstable; urgency=low
+
+  * debian/rules: Install dump-acct.8 and dump-utmp.8 which were
+    contributed by Ognyan Kulev <ogi@fmi.uni-sofia.bg>
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Wed, 19 Jul 2000 19:08:13 -0400
+
+acct (6.3.5-18) unstable; urgency=low
+
+  * debian/templates: Apply Italian debconf text (Closes: #64160)
+  * debian/templates: Also added German and French text
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Sat, 27 May 2000 16:28:13 -0400
+
+acct (6.3.5-17) unstable; urgency=low
+
+  * debian/control: Added Build-Depends: information (Closes: #51840)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Wed, 15 Dec 1999 18:42:48 -0500
+
+acct (6.3.5-16) unstable; urgency=low
+
+  * postinst: Added db_stop upon Joey Hess' advice (Closes: #50043)
+  * control: Upgraded to Policy 3.1.0
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Sun, 14 Nov 1999 19:39:17 -0500
+
+acct (6.3.5-15) unstable; urgency=low
+
+  * Ah, the joys of new technology. Helping out with the whirlwind upgrade
+    to the new debconf, we were bitten by a simple mistake in the config
+    file. Thanks again to Joey Hess for a quick fix  (Closes: #48861)
+  * control: Require debconf >= 0.2
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Mon,  1 Nov 1999 20:45:05 -0500
+
+acct (6.3.5-14) unstable; urgency=low
+
+  * preinst: Test for install-docs (fixes Lintian error)
+  * postinst, config: Small debconf changes, kindly supplied by Joey Hess
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Sun, 31 Oct 1999 10:14:32 -0500
+
+acct (6.3.5-13) unstable; urgency=low
+
+  * Integrated Joey Hess' changes for debconf.
+
+  * debian/rules: Adapted to use /usr/share/ following the recommendation
+    on FHS transition from the Technical Committee
+  * debian/control: Upgraded to Debian Policy 3.0.1
+
+  * debian/control: Removed obsolete note about required kernel patch
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Sat,  2 Oct 1999 11:35:22 -0400
+
+acct (6.3.5-12) unstable; urgency=low
+
+  * Upgraded to new Debian Perl Policy
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Sun,  4 Jul 1999 14:19:41 -0400
+
+acct (6.3.5-11) unstable; urgency=low
+
+  * Recompiled on a 2.2.* system
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Sun, 30 May 1999 11:59:22 -0400
+
+acct (6.3.5-10) unstable; urgency=low
+
+  * debian/rules: Define -DHAVE_LINUX_ACCT_H=1 in order to use acct.h from
+    the 2.2.9 kernel and not sys.h from glibc-2.0
+  * debian/acctdump: No longer installed as it works neither with
+    linux/acct.h, nor with sys/acct.h (and there still is dump-acct)
+  * compare_kernel_version:
+    -- changed to use POSIX::uname, not `uname`
+    -- added run-time flag -d for debug mode
+    -- corrected return value logic (fixes #37421)
+  * compare_kernel_version.8: added a simple manual page
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Sun, 16 May 1999 21:52:52 -0400
+
+acct (6.3.5-9) unstable; urgency=low
+
+  * Recompiled under 2.2.* kernel (#18314, #24085)
+
+  * Added a simple script /usr/sbin/compare_kernel_version to test the
+    running kernel against a command-line argument specifying a minimum
+    kernel version
+  * postinst: test for kernel >= 2.2 and, if needed, display a message
+    suggesting the slink version of the package
+  * /etc/init.d/acct: test for kernel >= 2.2 and exit early with short
+    mesage if installed kernel does not match (ie < 2.2)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Tue,  4 May 1999 20:44:34 -0400
+
+acct (6.3.5-8) unstable; urgency=low
+
+  * debian/prerm: Call /etc/init.d/acct to stop accounting as this more
+    robust against missing Accounting support in the kernel. (fixes #32711)
+  * debian/control: Added note that Accounting support has to be compiled
+    into the kernel for this to work.
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Tue,  2 Feb 1999 18:30:56 -0500
+
+acct (6.3.5-7) unstable; urgency=low
+
+  * debian/control: Deleted stale text errenously left over (fixes #32616)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Fri, 29 Jan 1999 18:38:28 -0500
+
+acct (6.3.5-6) unstable; urgency=low
+
+  * debian/{rules,postinst,postrm}: Removed support for html documentation
+    through menu as it is now provided by doc-base
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Thu, 14 Jan 1999 20:50:25 -0500
+
+acct (6.3.5-5) unstable; urgency=low
+
+  * Added support for doc-base
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Tue,  5 Jan 1999 21:43:16 -0500
+
+acct (6.3.5-4) frozen unstable; urgency=low
+
+  * [cron.daily, cron.monthly] Added tests for the existence of
+    /usr/sbin/accton. This helps for cases where acct is removed, but not
+    purged, and these conffiles are still around. (fixes #29340)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Thu, 12 Nov 1998 21:32:37 -0500
+
+acct (6.3.5-3) unstable; urgency=low
+
+  * Corrected typos in console messages in /etc/init.d/acct (fixes #23480)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Sat, 13 Jun 1998 11:57:14 -0400
+
+acct (6.3.5-2) unstable; urgency=low
+
+  * Changed /etc/init.d/acct by adding two 'set +e; ... set -e' blocks
+    so that missing accounting support is properly recognised in all
+    branches of the script  (fixes #23282)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Tue,  9 Jun 1998 21:36:16 -0400
+
+acct (6.3.5-1) unstable; urgency=low
+
+  * Upgraded to new upstream version 6.3.5 (fixes #3249)
+  * This version does not work under 2.1.* kernels which the upstream
+    author is trying to rectify.
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Wed, 27 May 1998 18:43:08 -0400
+
+acct (6.3.2-4) frozen unstable; urgency=low
+
+  * Changed debian/rules to not install last.1 as we don't install the
+    last(1) command from acct (but rather sysvinit's) (fixes #22215)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Thu,  7 May 1998 20:19:05 -0400
+
+acct (6.3.2-3) unstable; urgency=low
+
+  * Removed the note regarding accounting patch for kernels younger than
+    1.3.72 from debian/copyright and debian/control. Thanks to Richard
+    Braakman <dark@xs4all.nl> for pointing this out (fixes #21334)
+  * Added the 'acctdump' program which was provided by Ian Jackson
+    <ian@davenant.greenend.org.uk> (fixes #20839)
+  * Upgraded debian/rules to debhelper
+  * Upgraded to Debian Policy 2.4.1
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Sat, 18 Apr 1998 16:12:41 -0400
+
+acct (6.3.2-2) frozen unstable; urgency=low
+
+  * Really changed /etc/init.d/acct so that logger reports to
+    /var/log/daemon.log and not to /var/adm/daemon.log (fixes #18763)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Tue, 24 Mar 1998 19:34:07 -0500
+
+acct (6.3.2-1) unstable; urgency=low
+
+  * Upgraded to new upstream version 6.3.2
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Tue, 10 Mar 1998 19:46:34 -0500
+
+acct (6.3-2) unstable; urgency=low
+
+  * Changed /etc/init.d/acct so that logger reports to /var/log/daemon.log
+    and not to /var/adm/daemon.log (fixes #18763)
+  * Fixed FSF address in copyright (lintian)
+  * Redirect update-rc.d call to /dev/null in postrm (lintian)
+  * Added force-reload and restart targets to /etc/init.d/acct (lintian)
+  * Created links to ../man7/undocumented.7.gz in lieu of manual pages
+    for the two utility programs dump-acct and dump-utmp (lintian)
+  * Upgraded to Debian Policy 2.4.0.0
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Mon,  9 Mar 1998 20:24:05 -0500
+
+acct (6.3-1) unstable; urgency=low
+
+  * Upgraded to new upstream version 6.3 (which has been promoted from
+    alpha.gnu.mit.edu to the brave GNU world of prep.ai.mit.edu)
+  * Compiled with GNU libc2 aka libc6
+  * Now ships the unmodified upstream source as acct_6.3.orig.tar.gz
+  * Changed debian/rules to also create accounting.html via texi2html
+  * Added menu entry for html documentation
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Tue, 19 Aug 1997 22:11:21 -0400
+
+acct (6.2-5) unstable; urgency=low
+
+  * Added a variable to /etc/init.d/acct so that acct is installed but
+    not started automatically if this variable is unset (fixes bug #11126)
+  * Changed /etc/cron.daily/acct to call acct via /etc/init.d/acct and not
+    directly so that the new variable is tested (fixes bug #11126)
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Wed, 9 Jul 1997 22:18:30 -0400
+
+acct (6.2-4) unstable; urgency=low
+
+  * The preinst no longer stops accounting during an upgrade as this is
+    already done by the the postrm of the replaced packaged (fixes bug#7320)
+
+  * No longer installs acct.5 which is provided by the manpages package
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Mon, 3 Mar 1997 20:57:37 -0500
+
+acct (6.2-3) unstable; urgency=low
+
+  * Use logger(1) to report unexpected return calls from accton(8) as
+    suggested by Russell John Coker <rjc@snoopy.virtual.net.au>
+
+  * Converted to Debian Standard 2.1.2.2 (fixes #7121)
+  * Changed maintainer email address to <edd@debian.org>
+
+ -- Dirk Eddelbuettel <edd@debian.org>  Sun, 9 Feb 1997 22:00:42 -0500
+
+Tue Jul  9 22:33:18 1996  Dirk Eddelbuettel  <edd@miles.econ.queensu.ca>
+
+	* acct-6.2-2 release
+
+	* debian.rules: fixed copyright installation (fixes bug#3738)
+
+Mon Jul  8 11:07:01 1996  Dirk Eddelbuettel  <edd@miles.econ.queensu.ca>
+
+	* acct-6.2-1 release
+
+	* acct.rc: /etc/init.d/acct tests for accton (fixes bug#3513)
+
+	* debian.rules: compress man pages with gzip -9
+	
+	* debian.postrm: "purge" now deletes /var/account directory
+
+	* debian.control: changed description
+
+Sat Apr 20 22:30:46 1996  Dirk Eddelbuettel  <edd@miles.econ.queensu.ca>
+
+	* acct-6.2-0 release: updated to new upstream version acct-6.2
+
+Wed Apr 10 19:38:37 1996  Dirk Eddelbuettel  <edd@miles.econ.queensu.ca>
+
+	* acct-6.1-0 release
+
+	* converted to new upstream version acct-6.1 (fixes bug#2069)
+
+	* added man pages for the acct commands that were provided by
+	  Susan G. Kleinmann <sgk@sgk.tiac.net> and a simple acct.5 man
+	  page (fixes bug#1737)
+
+	* ac.c: added a space to printf format (should fix bug#2283)
+	
+	* debian.rules: provide only acct, last is now provided by sysvinit
+
+	* debian.control: added Architecture: field
+
+	* acct.daily: exit(0) so that cron doesn't get the errno from accton.c
+
+Sat Dec  2 14:00:19 1995  Dirk Eddelbuettel  <edd@miles.econ.queensu.ca>
+
+	* acct-5-13 and last-5-13 release
+
+	* debian.control: ELF release, depends on libc5
+
+Fri Oct 13 09:41:36 1995  Dirk Eddelbuettel  <edd@miles.econ.queensu.ca>
+
+	* acct-5-12 and last-5-12 release
+
+	* uid_hash.h (NAME_LEN): fixed bug#1651 reported and patched by
+	  Austin Donnelly <and1000@cam.ac.uk>
+
+Wed Oct 11 08:53:29 1995  Dirk Eddelbuettel  <edd@miles.econ.queensu.ca>
+
+	* acct-5-11 and last-5-11 release
+
+	* debian.postinst: call update-rc.d (fixes bug #1622)
+
+Mon Oct  2 16:39:00 1995  Dirk Eddelbuettel  <edd@miles.econ.queensu.ca>
+
+	* dropped `alpha' from package names, now acct-5-10 and last-5-10
+
+	* accton.c: exit() now returns value of `errno' and /etc/init.d/acct
+	  examines that value; this gives better messages
+	  
+	* accounting.texi: added a missing formatter for @item
+
+	* last.1 man page addded
+
+Wed Sep 27 10:59:55 1995  Dirk Eddelbuettel  <edd@miles.econ.queensu.ca>
+
+	* debian.control, debian.README: fixed bug #1486 by adding a note
+	  that 'sa' is unavailable due to missing support in the current 
+	  kernel patch 
+
+Thu Sep 21 15:52:14 1995  Dirk Eddelbuettel  <edd@miles.econ.queensu.ca>
+
+	* acct-alpha-5-8 and last-alpha-5-8
+
+	* first separate release of 'last' package
+
+	* changed control file for acct (fixes bugs #1415, #1131 and #969)
+
+	* silent when accton fails during installation (fixes bug #1415)
+
+	* new maintainer
+
+
+[edd: Changes made by Ian Murdock follow]
+
+Changes:
+ * added Debian GNU/Linux package maintenance system files
+ * added scripts to rotate process accounting file (daily), to perform
+   monthly login accounting, and to start process accounting at system
+   start time
+ * added __linux__ definitions to files.h (we use /var/account/pacct
+   as ACCT_FILE, /var/account/wtmp as WTMP_FILE, /var/account/savacct
+   as SAVACCT_FILE, and /var/account/usracct as USRACCT_FILE)
+ * changed last to truncate ftp entries by default (as Unix does it)
+ * fixed a typo in accounting.texi
--- acct-6.4~pre1.orig/debian/patches/04-lastcomm-forwards.dpatch
+++ acct-6.4~pre1/debian/patches/04-lastcomm-forwards.dpatch
@@ -0,0 +1,126 @@
+#!/bin/sh /usr/share/dpatch/dpatch-run
+## 04-lastcomm-forwards.dpatch by Dean Gaudet <dean@arctic.org>
+##
+## DP: Adds lastcomm -f - stdin and --forwards support (Closes: #262583).
+
+@DPATCH@
+
+diff -Naur acct-6.4-pre1.orig/lastcomm.1 acct-6.4-pre1/lastcomm.1
+--- acct-6.4-pre1.orig/lastcomm.1	2006-01-07 21:55:07.000000000 +0000
++++ acct-6.4-pre1/lastcomm.1	2006-12-04 11:52:49.000000000 +0000
+@@ -23,6 +23,10 @@
+ ]
+ .br
+ [
++.B \-\-forwards
++]
++.br
++[
+ .BI \-f " filename"
+ |
+ .BI \-\-file " filename"
+@@ -131,11 +135,25 @@
+ List records for tty
+ .I name.
+ .TP
++.BI \-\-forwards
++Read file forwards instead of backwards. This avoids trying to seek on the file
++and can be used to read from a pipe. This must be specified prior to any
++.BI \-f
++arguments.
++.TP
+ .BI \-f " filename, " \-\-file " filename"
+ Read from the file 
+ .I filename 
+ instead of
+-.I acct
++.I acct.
++A filename of "-" will result in reading from stdin. This must either be the
++first
++.BI \-f
++option, or
++.BI \-\-forwards
++must precede all
++.BI \-f
++options.
+ .TP
+ .BI \-\-ahz " hz"
+ Use this flag to tell the program what
+diff -Naur acct-6.4-pre1.orig/lastcomm.c acct-6.4-pre1/lastcomm.c
+--- acct-6.4-pre1.orig/lastcomm.c	2006-01-07 21:56:46.000000000 +0000
++++ acct-6.4-pre1/lastcomm.c	2006-12-04 11:59:16.000000000 +0000
+@@ -96,12 +96,9 @@
+   int c;
+   int other_pacct_file_specified = 0; /* nonzero if the user used the
+ 					 `-f' or `--file' flag */
++  int backwards = 1; /* default to reading backwards */
+ 
+   program_name = argv[0];
+-  
+-  /* Tell the pacct reader that we want to do things backwards! */
+-
+-  pacct_init (1);
+ 
+   while (1)
+     {
+@@ -118,6 +115,7 @@
+ 	{ "tty", required_argument, NULL, 8 },
+ 	{ "command", required_argument, NULL, 9 },
+ 	{ "ahz", required_argument, NULL, 10 },
++	{ "forwards", no_argument, NULL, 11 },
+ #ifdef HAVE_PAGING
+ 	{ "show-paging", no_argument, NULL, 11 },
+ #endif
+@@ -146,6 +144,18 @@
+ 	  break;
+ 	case 'f':
+ 	case 4:
++	  if (strcmp(optarg, "-") == 0)
++	    {
++	      if (backwards && other_pacct_file_specified)
++	        {
++	          printf ("%s: -f - must be specified first, or --forwards must precede the first -f\n", program_name);
++		  exit (1);
++	        }
++	      backwards = 0;
++	      optarg = "/proc/self/fd/0";
++	    }
++	  if (other_pacct_file_specified == 0)
++	    pacct_init(backwards);
+ 	  add_pacct_file (optarg);
+ 	  other_pacct_file_specified = 1;
+ 	  break;
+@@ -186,6 +196,14 @@
+ 	  show_paging = 1;
+           break;
+ #endif
++	case 12:
++	  if (other_pacct_file_specified)
++	    {
++	      printf ("%s: --forwards must come before -f\n", program_name);
++	      exit (1);
++	    }
++	  backwards = 0;
++	  break;
+ 	case 'h':
+ 	case 3:
+ 	  /* This should fall through to default! */
+@@ -196,6 +214,9 @@
+ 	}
+     }
+ 
++  if (other_pacct_file_specified == 0)
++    pacct_init(backwards);
++
+   /* if we get here, we expect everything else to be a username,
+      terminal name, or command name */
+ 
+@@ -275,7 +296,7 @@
+              "p"
+ #endif
+               "V] [-f file] [command] ... [user] ... [terminal] ...\n"
+-"       [--file <file>] [--strict-match] [--print-controls]\n"
++"       [--forwards] [--file <file>] [--strict-match] [--print-controls]\n"
+ "       [--user <name>] [--tty <name>] [--command <name>] [--debug]\n"
+ "       "
+ #ifdef HAVE_PAGING
--- acct-6.4~pre1.orig/debian/patches/03-acct-file.dpatch
+++ acct-6.4~pre1/debian/patches/03-acct-file.dpatch
@@ -0,0 +1,67 @@
+#!/bin/sh /usr/share/dpatch/dpatch-run
+## 03-acct-file.dpatch by Daniel Baumann <daniel@debian.org>
+##
+## DP: Adjusts location of the log files (Closes: #377835).
+
+@DPATCH@
+
+diff -Naur acct-6.4-pre1.orig/configure acct-6.4-pre1/configure
+--- acct-6.4-pre1.orig/configure	2006-01-07 22:24:37.000000000 +0000
++++ acct-6.4-pre1/configure	2006-11-04 11:42:39.000000000 +0000
+@@ -6147,7 +6147,7 @@
+ 
+ #ifndef ACCT_FILE
+ #  if defined(__FreeBSD__) || defined(__linux__)
+-#    define ACCT_FILE "/var/account/pacct"
++#    define ACCT_FILE "/var/log/account/pacct"
+ #  else
+ #    if defined(__NetBSD__)
+ #      define ACCT_FILE "/var/account/acct"
+@@ -6167,7 +6167,7 @@
+ 
+ #ifndef SAVACCT_FILE
+ #  if defined(__FreeBSD__) || defined(__NetBSD__) || defined(__linux__)
+-#    define SAVACCT_FILE "/var/account/savacct"
++#    define SAVACCT_FILE "/var/log/account/savacct"
+ #  else
+ #    if defined(sun) || defined(AMIX)
+ #      define SAVACCT_FILE "/var/adm/savacct"
+@@ -6183,7 +6183,7 @@
+ 
+ #ifndef USRACCT_FILE
+ #  if defined(__FreeBSD__) || defined(__NetBSD__) || defined(__linux__)
+-#    define USRACCT_FILE "/var/account/usracct"
++#    define USRACCT_FILE "/var/log/account/usracct"
+ #  else
+ #    if defined(sun) || defined(AMIX)
+ #      define USRACCT_FILE "/var/adm/usracct"
+diff -Naur acct-6.4-pre1.orig/configure.in acct-6.4-pre1/configure.in
+--- acct-6.4-pre1.orig/configure.in	2006-01-07 21:56:46.000000000 +0000
++++ acct-6.4-pre1/configure.in	2006-11-04 11:43:54.000000000 +0000
+@@ -214,7 +214,7 @@
+ 
+ #ifndef ACCT_FILE
+ #  if defined(__FreeBSD__) || defined(__linux__)
+-#    define ACCT_FILE "/var/account/pacct"
++#    define ACCT_FILE "/var/log/account/pacct"
+ #  else
+ #    if defined(__NetBSD__)
+ #      define ACCT_FILE "/var/account/acct"
+@@ -234,7 +234,7 @@
+ 
+ #ifndef SAVACCT_FILE
+ #  if defined(__FreeBSD__) || defined(__NetBSD__) || defined(__linux__)
+-#    define SAVACCT_FILE "/var/account/savacct"
++#    define SAVACCT_FILE "/var/log/account/savacct"
+ #  else
+ #    if defined(sun) || defined(AMIX)
+ #      define SAVACCT_FILE "/var/adm/savacct"
+@@ -250,7 +250,7 @@
+ 
+ #ifndef USRACCT_FILE
+ #  if defined(__FreeBSD__) || defined(__NetBSD__) || defined(__linux__)
+-#    define USRACCT_FILE "/var/account/usracct"
++#    define USRACCT_FILE "/var/log/account/usracct"
+ #  else
+ #    if defined(sun) || defined(AMIX)
+ #      define USRACCT_FILE "/var/adm/usracct"
--- acct-6.4~pre1.orig/debian/patches/02-manpage.dpatch
+++ acct-6.4~pre1/debian/patches/02-manpage.dpatch
@@ -0,0 +1,31 @@
+#!/bin/sh /usr/share/dpatch/dpatch-run
+## 02-manpage.dpatch by Daniel Baumann <daniel@debian.org>
+##
+## DP: Fixes manpage error
+
+@DPATCH@
+
+diff -Naur acct-6.3.99+6.4pre1.orig/accton.8 acct-6.3.99+6.4pre1/accton.8
+--- acct-6.3.99+6.4pre1.orig/accton.8	2003-06-05 16:46:12.000000000 +0000
++++ acct-6.3.99+6.4pre1/accton.8	2006-06-23 06:06:38.000000000 +0000
+@@ -6,6 +6,10 @@
+ .na
+ .TP
+ .B accton
++.RI [\| OPTION \|]
++.RB on \||\| off \||\| filename
++.TP
++.B accton
+ [
+ .B \-V
+ |
+@@ -16,9 +20,6 @@
+ |
+ .B \-\-help
+ ]
+-[
+-.I filename
+-]
+ .SH DESCRIPTION
+ .LP
+ .B accton
--- acct-6.4~pre1.orig/debian/patches/01-last.dpatch
+++ acct-6.4~pre1/debian/patches/01-last.dpatch
@@ -0,0 +1,441 @@
+#!/bin/sh /usr/share/dpatch/dpatch-run
+## 01-last.dpatch by Daniel Baumann <daniel@debian.org>
+##
+## DP: Removing last, it's in the sysvinit package instead.
+
+@DPATCH@
+
+diff -Naur acct-6.3.99+6.4pre1.orig/accounting.info acct-6.3.99+6.4pre1/accounting.info
+--- acct-6.3.99+6.4pre1.orig/accounting.info	2006-01-07 22:46:25.000000000 +0000
++++ acct-6.3.99+6.4pre1/accounting.info	2006-05-28 03:46:26.000000000 +0000
+@@ -35,7 +35,6 @@
+ 
+ * ac::                          print statistics about connect time
+ * accton::                      turns accounting on or off
+-* last::                        list last logins of users and terms
+ * lastcomm::                    list last commands executed
+ * sa::                          print accounting statistics
+ * dump-acct::                   print accounting file in human-readable form
+@@ -88,13 +87,6 @@
+ `accton'
+      turns accounting on or off.
+ 
+-`last'
+-     lists the logins on the system, most recent first.  With `last',
+-     you can search the `wtmp' file for a particular user or terminal
+-     name (to which the user was connected).  Of special interest are
+-     two fake users, `reboot' and `shutdown', which are recorded when
+-     the system is shut down or reboots.
+-
+ `lastcomm'
+      lists the commands executed on the system, most recent first,
+      showing the run state of each command.  With `last', you can
+@@ -458,7 +450,7 @@
+ processes.
+ 
+ 
+-File: accounting.info,  Node: accton,  Next: last,  Prev: ac,  Up: Top
++File: accounting.info,  Node: accton,  Next: lastcom,  Prev: ac,  Up: Top
+ 
+ 2 `accton'
+ **********
+@@ -485,144 +477,9 @@
+ 
+ 
+ 
+-File: accounting.info,  Node: last,  Next: lastcomm,  Prev: accton,  Up: Top
+-
+-3 `last'
+-********
+-
+-`last' looks through the `wtmp' file (which records all logins/logouts)
+-and prints information about connect times of users.  Records are
+-printed from most recent to least recent.  Records can be specified by
+-tty and username.  tty names can be abbreviated: `last 0' is equivalent
+-to `last tty0'.
+-
+-   Multiple arguments can be specified: `last root console' will print
+-all of the entries for the user `root' and all entries logged in on the
+-`console' tty.
+-
+-   The special users `reboot' and `shutdown' log in when the system
+-reboots or (surprise) shuts down.  `last reboot' will produce a record
+-of reboot times.
+-
+-   If `last' is interrupted by a quit signal, it prints out how far its
+-search in the `wtmp' file had reached and then quits:
+-     weerapan  ttyq6    132.162.32.37    Mon Feb 15 19:07 - 19:21  (00:13)
+-     weerapan  ttyq6    132.162.32.37    Mon Feb 15 19:07 - 19:21  (00:13)
+-
+-     interrupted at Mon Feb 15 19:07:52 1993
+-
+-3.1 Flags
+-=========
+-
+-This program implements the features of regular u*x `last' with a few
+-extra flags.  When `last' is invoked with no arguments, the output
+-looks like this:
+-     gr151     ttyp2    ray.cs.oberlin.e Tue Feb 16 17:40   still logged in
+-     jhoggard  ttyp2    csts.cs.oberlin. Tue Feb 16 17:39 - 17:39  (00:00)
+-     jstarr    ttyp1    UNIX5.ANDREW.CMU Tue Feb 16 17:38   still logged in
+-     jberman   ttypb    132.162.32.25    Tue Feb 16 17:34   still logged in
+-     alee      ttyp7    csts.cs.oberlin. Tue Feb 16 17:34   still logged in
+-     jbrick    ttyp2    ocvaxa.cc.oberli Tue Feb 16 17:33 - 17:36  (00:03)
+-     mbastedo  ttypc    ocvaxa.cc.oberli Tue Feb 16 17:25 - 17:26  (00:01)
+-     rgoodste  ttypb    ocvaxa.cc.oberli Tue Feb 16 17:22 - 17:26  (00:03)
+-     huttar    ttyp9    lobby.ti.com     Tue Feb 16 17:19   still logged in
+-     klutz     ttyp3    132.162.32.25    Tue Feb 16 17:14   still logged in
+-
+-`--no-truncate-ftp-entries'
+-     When printing out the information, don't chop the number part off
+-     of `ftp'XXXX entries.
+-
+-`-NUMBER'
+-`-n NUMBER'
+-`--lines NUMBER'
+-     Limit the number of lines that `last' prints.
+-
+-`-f FILENAME'
+-`--file FILENAME'
+-     Read from the file FILENAME instead of the system's `wtmp' file.
+-
+-`-y'
+-`--print-year'
+-     Print out the year when displaying dates.
+-
+-`-s'
+-`--print-seconds'
+-     Print out seconds when displaying dates and durations.
+-
+-`--complain'
+-     When the `wtmp' file has a problem (a time-warp, missing record,
+-     or whatever), print out an appropriate error.
+-
+-`-x'
+-`--more-records'
+-     Print out run level changes, shutdowns, and time changes in
+-     addition to the normal records.
+-
+-`-a'
+-`--all-records'
+-     Print out all records in the `wtmp' file.
+-
+-`-i'
+-`--ip-address'
+-     Some machines store the IP address of a connection in a utmp
+-     record.  Enabling this option makes `last' print the IP address
+-     instead of the hostname.
+-
+-`--tw-leniency VALUE'
+-     Set the time warp leniency value (in seconds).  See the `ac'
+-     chapter for information.
++File: accounting.info,  Node: lastcomm,  Next: sa,  Prev: accton,  Up: Top
+ 
+-`--tw-suspicious VALUE'
+-     Set the time warp suspicious value (in seconds).  See the `ac'
+-     chapter for information.
+-
+-`-w'
+-`--wide'
+-     By default, `last' tries to print each entry within in 80 columns.
+-     Use this option to instruct `last' to print out the fields in the
+-     `wtmp' file with full field widths.
+-
+-`--debug'
+-     Print verbose internal information.
+-
+-`-V'
+-`--version'
+-     Print `last''s version number.
+-
+-`-h'
+-`--help'
+-     Print `last''s usage string and default locations of system files
+-     to standard output.
+-
+-3.2 Problems
+-============
+-
+-The Clock Change Problem
+-........................
+-
+-Of the `last's I've tried, all of them have had problems parsing a
+-system clock change.  Instead of modifying the entries that have been
+-read, they just ignore the change and give you incorrect values.  GNU
+-`last' knows about clock changes and prints the correct times.
+-
+-*TANGIBLE RESULT:* if you `diff' the output of your `last' and GNU
+-`last', entries after (before, rather) a clock change will be off by
+-the amount of the clock change.
+-
+-The Ftp Problem
+-...............
+-
+-Most `last's that I've examined have the same problem here as `ac'
+-does--they log everyone out as soon as they see an ftp entry.
+-
+-*TANGIBLE RESULT:* GNU `last' will reflect the correct time spent in an
+-ftp session, so the totals that it gives will most likely be greater
+-than those given by the system `last'.
+-
+-
+-File: accounting.info,  Node: lastcomm,  Next: sa,  Prev: last,  Up: Top
+-
+-4 `lastcomm'
++3 `lastcomm'
+ ************
+ 
+ `lastcomm' prints out information about previously executed commands.
+@@ -663,7 +520,7 @@
+ 
+    * time the process exited
+ 
+-4.1 Flags
++3.1 Flags
+ =========
+ 
+ This program implements the features of regular u*x `lastcomm' with a
+@@ -719,7 +576,7 @@
+ 
+ File: accounting.info,  Node: sa,  Next: dump-acct,  Prev: lastcomm,  Up: Top
+ 
+-5 `sa'
++4 `sa'
+ ******
+ 
+ `sa' summarizes information about previously executed commands as
+@@ -777,7 +634,7 @@
+    An asterisk will appear after the name of commands that forked but
+ didn't call `exec'.
+ 
+-5.1 Flags
++4.1 Flags
+ =========
+ 
+ The availability of these program options depends on your operating
+@@ -918,7 +775,7 @@
+    *Note*: if more than one sorting option is specified, the list will
+ be sorted by the one specified last on the command line.
+ 
+-5.2 Problems
++4.2 Problems
+ ============
+ 
+ I haven't been able to test this on many different machines because the
+@@ -930,7 +787,7 @@
+ commands when combined with the `--user-summary' or `--print-users'
+ flags.  GNU `sa' pays attention to these flags if they are applicable.
+ 
+-5.2.1 mips sa
++4.2.1 mips sa
+ -------------
+ 
+ The average memory use is stored as a short rather than a double, so we
+@@ -940,7 +797,7 @@
+ 
+ File: accounting.info,  Node: dump-acct,  Prev: sa,  Up: Top
+ 
+-6 `dump-acct'
++5 `dump-acct'
+ *************
+ 
+ `dump-acct' dumps some of the contents of one or more `acct' files in
+@@ -989,7 +846,7 @@
+ all of the above columns will actually appear, depending on what
+ information your operating system provides in it's `struct acct'.
+ 
+-6.1 Flags
++5.1 Flags
+ =========
+ 
+ `--ahz HZ'
+@@ -1041,7 +898,6 @@
+ Node: Preface1764
+ Node: ac10432
+ Node: accton18745
+-Node: last19250
+ Node: lastcomm23726
+ Node: sa26898
+ Node: dump-acct33192
+diff -Naur acct-6.3.99+6.4pre1.orig/accounting.texi acct-6.3.99+6.4pre1/accounting.texi
+--- acct-6.3.99+6.4pre1.orig/accounting.texi	2006-01-07 22:46:25.000000000 +0000
++++ acct-6.3.99+6.4pre1/accounting.texi	2006-05-28 03:59:51.000000000 +0000
+@@ -75,7 +75,6 @@
+ 
+ * ac::                          print statistics about connect time
+ * accton::                      turns accounting on or off
+-* last::                        list last logins of users and terms
+ * lastcomm::                    list last commands executed
+ * sa::                          print accounting statistics
+ * dump-acct::                   print accounting file in human-readable form
+@@ -130,13 +129,6 @@
+ @item accton
+ turns accounting on or off.
+ 
+-@item last
+-lists the logins on the system, most recent first.  With @code{last},
+-you can search the @code{wtmp} file for a particular user or
+-terminal name (to which the user was connected).  Of special interest
+-are two fake users, @samp{reboot} and @samp{shutdown}, which are
+-recorded when the system is shut down or reboots.
+-
+ @item lastcomm
+ lists the commands executed on the system, most recent first, showing
+ the run state of each command.  With @code{last}, you can search the
+@@ -515,7 +507,7 @@
+ anything but user processes.
+ 
+ @c ----------------------------------------------------------------------
+-@node accton, last, ac, Top
++@node accton, lastcomm, ac, Top
+ @chapter @code{accton}
+ 
+ @code{accton} turns process accounting on or off.  To save process
+@@ -542,146 +534,7 @@
+ @end table
+ 
+ @c ----------------------------------------------------------------------
+-@node last, lastcomm, accton, Top
+-@chapter @code{last}
+-
+-@code{last} looks through the @code{wtmp} file (which records
+-all logins/logouts) and prints information about connect times of users.
+-Records are printed from most recent to least recent.  Records can be
+-specified by tty and username.  tty names can be abbreviated: @samp{last
+-0} is equivalent to @samp{last tty0}.
+-
+-Multiple arguments can be specified: @samp{last root console} will print
+-all of the entries for the user @code{root} and all entries logged in on
+-the @code{console} tty.
+-
+-The special users @code{reboot} and @code{shutdown} log in when the
+-system reboots or (surprise) shuts down.  @samp{last reboot} will
+-produce a record of reboot times.
+-
+-If @code{last} is interrupted by a quit signal, it prints out how far
+-its search in the @code{wtmp} file had reached and then
+-quits:
+-@example
+-weerapan  ttyq6    132.162.32.37    Mon Feb 15 19:07 - 19:21  (00:13)
+-weerapan  ttyq6    132.162.32.37    Mon Feb 15 19:07 - 19:21  (00:13)
+-
+-interrupted at Mon Feb 15 19:07:52 1993
+-@end example
+-
+-@section Flags
+-
+-This program implements the features of regular u*x @code{last} with a few
+-extra flags.  When @code{last} is invoked with no arguments, the output
+-looks like this:
+-@example
+-gr151     ttyp2    ray.cs.oberlin.e Tue Feb 16 17:40   still logged in
+-jhoggard  ttyp2    csts.cs.oberlin. Tue Feb 16 17:39 - 17:39  (00:00)
+-jstarr    ttyp1    UNIX5.ANDREW.CMU Tue Feb 16 17:38   still logged in
+-jberman   ttypb    132.162.32.25    Tue Feb 16 17:34   still logged in
+-alee      ttyp7    csts.cs.oberlin. Tue Feb 16 17:34   still logged in
+-jbrick    ttyp2    ocvaxa.cc.oberli Tue Feb 16 17:33 - 17:36  (00:03)
+-mbastedo  ttypc    ocvaxa.cc.oberli Tue Feb 16 17:25 - 17:26  (00:01)
+-rgoodste  ttypb    ocvaxa.cc.oberli Tue Feb 16 17:22 - 17:26  (00:03)
+-huttar    ttyp9    lobby.ti.com     Tue Feb 16 17:19   still logged in
+-klutz     ttyp3    132.162.32.25    Tue Feb 16 17:14   still logged in
+-@end example
+-
+-@table @code
+-@item --no-truncate-ftp-entries
+-When printing out the information, don't chop the number part off of
+-@code{ftp}@var{xxxx} entries.
+-
+-@item -@var{number}
+-@itemx -n @var{number}
+-@itemx --lines @var{number}
+-Limit the number of lines that @code{last} prints.
+-
+-@item -f @var{filename}
+-@itemx --file @var{filename}
+-Read from the file @var{filename} instead of the system's
+-@code{wtmp} file.
+-
+-@item -y
+-@itemx --print-year
+-Print out the year when displaying dates.
+-
+-@item -s
+-@itemx --print-seconds
+-Print out seconds when displaying dates and durations.
+-
+-@item --complain
+-When the @code{wtmp} file has a problem (a time-warp, missing
+-record, or whatever), print out an appropriate error.
+-
+-@item -x
+-@itemx --more-records
+-Print out run level changes, shutdowns, and time changes in addition to
+-the normal records.
+-
+-@item -a
+-@itemx --all-records
+-Print out all records in the @code{wtmp} file.
+-
+-@item -i
+-@itemx --ip-address
+-Some machines store the IP address of a connection in a utmp record.
+-Enabling this option makes @code{last} print the IP address instead of
+-the hostname.
+-
+-@item --tw-leniency @var{value}
+-Set the time warp leniency value (in seconds).  See the @code{ac}
+-chapter for information.
+-
+-@item --tw-suspicious @var{value}
+-Set the time warp suspicious value (in seconds).  See the @code{ac}
+-chapter for information.
+-
+-@item -w
+-@itemx --wide
+-By default, @code{last} tries to print each entry within in 80 columns.
+-Use this option to instruct @code{last} to print out the fields in the
+-@code{wtmp} file with full field widths.
+-
+-@item --debug
+-Print verbose internal information.
+-
+-@item -V
+-@itemx --version
+-Print @code{last}'s version number.
+-
+-@item -h
+-@itemx --help
+-Print @code{last}'s usage string and default locations of system files
+-to standard output.
+-@end table
+-
+-@section Problems
+-
+-@unnumberedsubsubsec The Clock Change Problem
+-
+-Of the @code{last}s I've tried, all of them have had problems parsing a
+-system clock change.  Instead of modifying the entries that have been
+-read, they just ignore the change and give you incorrect values.  GNU
+-@code{last} knows about clock changes and prints the correct times.
+-
+-@noindent
+-@strong{TANGIBLE RESULT:} if you @code{diff} the output of your
+-@code{last} and GNU @code{last}, entries after (before, rather) a clock
+-change will be off by the amount of the clock change.
+-
+-@unnumberedsubsubsec The Ftp Problem
+-
+-Most @code{last}s that I've examined have the same problem here as
+-@code{ac} does---they log everyone out as soon as they see an ftp entry.
+-
+-@noindent
+-@strong{TANGIBLE RESULT:} GNU @code{last} will reflect the correct time
+-spent in an ftp session, so the totals that it gives will most likely be
+-greater than those given by the system @code{last}.
+-
+-@c ----------------------------------------------------------------------
+-@node lastcomm, sa, last, Top
++@node lastcomm, sa, accton, Top
+ @chapter @code{lastcomm}
+ 
+ @code{lastcomm} prints out information about previously executed
--- acct-6.4~pre1.orig/debian/patches/00list
+++ acct-6.4~pre1/debian/patches/00list
@@ -0,0 +1,4 @@
+01-last.dpatch
+02-manpage.dpatch
+03-acct-file.dpatch
+04-lastcomm-forwards.dpatch
--- acct-6.4~pre1.orig/debian/compat
+++ acct-6.4~pre1/debian/compat
@@ -0,0 +1 @@
+5
--- acct-6.4~pre1.orig/debian/manpage/dump-acct.8
+++ acct-6.4~pre1/debian/manpage/dump-acct.8
@@ -0,0 +1,73 @@
+.TH DUMP-ACCT 8 "2006-04-22" "6.4pre1" "GNU Accounting Utilities"
+
+.SH NAME
+dump-acct \- print an acct file in human-readable format.
+
+.SH SYNOPSIS
+.B dump-acct
+.RB [\| \-r \||\| \-\-reverse \|]
+.RB [\| \-R \||\| \-\-raw \|]
+.RB [\| \-n \||\| \-\-num
+.IR recs \|]
+.RB [\| \-h \||\| \-\-help \|]
+.RB [\|
+.IR files \|]
+
+.SH DESCRIPTION
+.B dump-acct
+.I filename
+prints a list of all executed processes. This list is written by the kernel
+which must be compiled with BSD process accounting enabled (Debian kernel image
+have it already enabled). It must be started with
+.BR accton (5).
+Note that on Debian systems, this is ensured via the init script
+.IR /etc/init.d/acct .
+.LP
+All fields are separated by vertical line. Fields are:
+.IR command ,
+.IR version ,
+.IR "user time" ,
+.IR "system time" ,
+.IR "effective time" ,
+.IR uid ,
+.IR gid ,
+.IR memory ,
+.IR io ,
+.IR time .
+User, system and effective times are ticks per second. One tick is usually 1/50
+of a second. The
+.I time
+field shows the start time of the process.
+
+.SH OPTIONS
+.TP
+.B \-h, \-\-help
+Prints the usage string and default locations of system files to standard output
+and exits.
+.TP
+.B \-n, \-\-num recs
+Number of lines to print.
+.TP
+.B \-r, \-\-reverse
+Start printing from last records.
+.TP
+.B \-R, \-\-raw
+Print raw records, not human-readable.
+
+.SH FILES
+.TP
+.I acct
+The system wide process accounting file. See
+.BR acct (5)
+for further details.
+
+.SH SEE ALSO
+.BR acct (5),
+.BR ac (8).
+
+.SH AUTHOR
+The GNU accounting utilities were written by Noel Cragg <noel@gnu.ai.mit.edu>.
+.PP
+This manual page was written by Ognyan Kulev <ogi@fmi.uni-sofia.bg> and updated
+by Daniel Baumann <daniel@debian.org> for the Debian project (but may be used by
+others).
--- acct-6.4~pre1.orig/debian/manpage/dump-utmp.8
+++ acct-6.4~pre1/debian/manpage/dump-utmp.8
@@ -0,0 +1,65 @@
+.TH DUMP-UTMP 8 "2006-04-22" "6.4pre1" "GNU Accounting Utilities"
+
+.SH NAME
+dump-utmp \- print an utmp file in human-readable format.
+
+.SH SYNOPSIS
+.B dump-acct
+.RB [\| \-r \||\| \-\-reverse \|]
+.RB [\| \-R \||\| \-\-raw \|]
+.RB [\| \-n \||\| \-\-num
+.IR recs \|]
+.RB [\| \-h \||\| \-\-help \|]
+.RB [\|
+.IR files \|]
+
+.SH DESCRIPTION
+.B dump-acct
+.I filename
+prints a list of all logins. This list is usually written in
+.IR /var/log/wtmp .
+.LP
+All fields are separated by vertical line. Fields are:
+.IR "user name" ,
+.IR tty ,
+.IR type ,
+.IR id ,
+.IR pid ,
+.IR hostaddr ,
+.IR host ,
+.IR time .
+
+.SH OPTIONS
+.TP
+.B \-h, \-\-help
+Prints the usage string and default locations of system files to standard output
+and exits.
+.TP
+.B \-n, \-\-num recs
+Number of lines to print.
+.TP
+.B \-r, \-\-reverse
+Start printing from last records.
+.TP
+.B \-R, \-\-raw
+Print raw records, not human-readable.
+
+.SH FILES
+.TP
+.I wtmp
+The system wide login record file. See
+.BR wtmp (5)
+for further details.
+
+.SH SEE ALSO
+.BR login (1),
+.BR wtmp (5),
+.BR init (8),
+.BR sa (8).
+
+.SH AUTHOR
+The GNU accounting utilities were written by Noel Cragg <noel@gnu.ai.mit.edu>.
+.PP
+This manual page was written by Ognyan Kulev <ogi@fmi.uni-sofia.bg> and updated
+by Daniel Baumann <daniel@debian.org> for the Debian project (but may be used by
+others).
--- acct-6.4~pre1.orig/debian/docs
+++ acct-6.4~pre1/debian/docs
@@ -0,0 +1,4 @@
+NEWS
+README
+TODO
+accounting.html
--- acct-6.4~pre1.orig/debian/control
+++ acct-6.4~pre1/debian/control
@@ -0,0 +1,20 @@
+Source: acct
+Section: admin
+Priority: optional
+Maintainer: Daniel Baumann <daniel@debian.org>
+Build-Depends: debhelper (>= 5), dpatch, autotools-dev, texi2html
+Standards-Version: 3.7.3
+Homepage: http://www.gnu.org/software/acct/
+
+Package: acct
+Architecture: any
+Depends: ${shlibs:Depends}, ${misc:Depends}
+Description: The GNU Accounting utilities for process and login accounting
+ GNU Accounting Utilities is a set of utilities which reports and summarizes
+ data about user connect times and process execution statistics.
+ .
+ "Login accounting" provides summaries of system resource usage based on connect
+ time, and "process accounting" provides summaries based on the commands
+ executed on the system.
+ .
+ The 'last' command is provided by the sysvinit package and not included here.
--- acct-6.4~pre1.orig/debian/cron.daily
+++ acct-6.4~pre1/debian/cron.daily
@@ -0,0 +1,21 @@
+#!/bin/sh
+
+test -x /usr/sbin/accton || exit 0
+
+# Source defaults
+if [ -f /etc/default/acct ]
+then
+	. /etc/default/acct
+else
+	ACCT_LOGGING="30"
+fi
+
+# Save log file
+cd /var/log/account
+savelog -g adm -m 0640 -u root -c "${ACCT_LOGGING}" /var/log/account/pacct > /dev/null
+
+# Restart acct
+/etc/init.d/acct restart > /dev/null
+
+# This is needed because accton.c returns errno
+exit 0
--- acct-6.4~pre1.orig/config.sub
+++ acct-6.4~pre1/config.sub
@@ -1,9 +1,10 @@
 #! /bin/sh
 # Configuration validation subroutine script.
 #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
-#   2000, 2001, 2002, 2003, 2004, 2005 Free Software Foundation, Inc.
+#   2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008
+#   Free Software Foundation, Inc.
 
-timestamp='2005-07-08'
+timestamp='2008-01-16'
 
 # This file is (in principle) common to ALL GNU software.
 # The presence of a machine in this file suggests that SOME GNU software
@@ -71,8 +72,8 @@
 version="\
 GNU config.sub ($timestamp)
 
-Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005
-Free Software Foundation, Inc.
+Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001,
+2002, 2003, 2004, 2005, 2006, 2007, 2008 Free Software Foundation, Inc.
 
 This is free software; see the source for copying conditions.  There is NO
 warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
@@ -119,8 +120,9 @@
 # Here we must recognize all the valid KERNEL-OS combinations.
 maybe_os=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\2/'`
 case $maybe_os in
-  nto-qnx* | linux-gnu* | linux-dietlibc | linux-uclibc* | uclinux-uclibc* | uclinux-gnu* | \
-  kfreebsd*-gnu* | knetbsd*-gnu* | netbsd*-gnu* | storm-chaos* | os2-emx* | rtmk-nova*)
+  nto-qnx* | linux-gnu* | linux-dietlibc | linux-newlib* | linux-uclibc* | \
+  uclinux-uclibc* | uclinux-gnu* | kfreebsd*-gnu* | knetbsd*-gnu* | netbsd*-gnu* | \
+  storm-chaos* | os2-emx* | rtmk-nova*)
     os=-$maybe_os
     basic_machine=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\1/'`
     ;;
@@ -171,6 +173,10 @@
 	-hiux*)
 		os=-hiuxwe2
 		;;
+	-sco6)
+		os=-sco5v6
+		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
+		;;
 	-sco5)
 		os=-sco3.2v5
 		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
@@ -187,6 +193,10 @@
 		# Don't forget version if it is 3.2v4 or newer.
 		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
 		;;
+	-sco5v6*)
+		# Don't forget version if it is 3.2v4 or newer.
+		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
+		;;
 	-sco*)
 		os=-sco3.2v2
 		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
@@ -231,15 +241,16 @@
 	| alpha | alphaev[4-8] | alphaev56 | alphaev6[78] | alphapca5[67] \
 	| alpha64 | alpha64ev[4-8] | alpha64ev56 | alpha64ev6[78] | alpha64pca5[67] \
 	| am33_2.0 \
-	| arc | arm | arm[bl]e | arme[lb] | armv[2345] | armv[345][lb] | avr \
+	| arc | arm | arm[bl]e | arme[lb] | armv[2345] | armv[345][lb] | avr | avr32 \
 	| bfin \
 	| c4x | clipper \
 	| d10v | d30v | dlx | dsp16xx \
-	| fr30 | frv \
+	| fido | fr30 | frv \
 	| h8300 | h8500 | hppa | hppa1.[01] | hppa2.0 | hppa2.0[nw] | hppa64 \
 	| i370 | i860 | i960 | ia64 \
 	| ip2k | iq2000 \
-	| m32r | m32rle | m68000 | m68k | m88k | maxq | mcore \
+	| m32c | m32r | m32rle | m68000 | m68k | m88k \
+	| maxq | mb | microblaze | mcore | mep \
 	| mips | mipsbe | mipseb | mipsel | mipsle \
 	| mips16 \
 	| mips64 | mips64el \
@@ -257,28 +268,27 @@
 	| mipsisa64sr71k | mipsisa64sr71kel \
 	| mipstx39 | mipstx39el \
 	| mn10200 | mn10300 \
-	| ms1 \
+	| mt \
 	| msp430 \
+	| nios | nios2 \
 	| ns16k | ns32k \
 	| or32 \
 	| pdp10 | pdp11 | pj | pjl \
 	| powerpc | powerpc64 | powerpc64le | powerpcle | ppcbe \
 	| pyramid \
-	| sh | sh[1234] | sh[24]a | sh[23]e | sh[34]eb | shbe | shle | sh[1234]le | sh3ele \
+	| score \
+	| sh | sh[1234] | sh[24]a | sh[23]e | sh[34]eb | sheb | shbe | shle | sh[1234]le | sh3ele \
 	| sh64 | sh64le \
-	| sparc | sparc64 | sparc64b | sparc86x | sparclet | sparclite \
-	| sparcv8 | sparcv9 | sparcv9b \
-	| strongarm \
+	| sparc | sparc64 | sparc64b | sparc64v | sparc86x | sparclet | sparclite \
+	| sparcv8 | sparcv9 | sparcv9b | sparcv9v \
+	| spu | strongarm \
 	| tahoe | thumb | tic4x | tic80 | tron \
 	| v850 | v850e \
 	| we32k \
-	| x86 | xscale | xscalee[bl] | xstormy16 | xtensa \
+	| x86 | xc16x | xscale | xscalee[bl] | xstormy16 | xtensa \
 	| z8k)
 		basic_machine=$basic_machine-unknown
 		;;
-	m32c)
-		basic_machine=$basic_machine-unknown
-		;;
 	m6811 | m68hc11 | m6812 | m68hc12)
 		# Motorola 68HC11/12.
 		basic_machine=$basic_machine-unknown
@@ -286,6 +296,9 @@
 		;;
 	m88110 | m680[12346]0 | m683?2 | m68360 | m5200 | v70 | w65 | z8k)
 		;;
+	ms1)
+		basic_machine=mt-unknown
+		;;
 
 	# We use `pc' rather than `unknown'
 	# because (1) that's what they normally are, and
@@ -305,18 +318,18 @@
 	| alpha64-* | alpha64ev[4-8]-* | alpha64ev56-* | alpha64ev6[78]-* \
 	| alphapca5[67]-* | alpha64pca5[67]-* | arc-* \
 	| arm-*  | armbe-* | armle-* | armeb-* | armv*-* \
-	| avr-* \
+	| avr-* | avr32-* \
 	| bfin-* | bs2000-* \
 	| c[123]* | c30-* | [cjt]90-* | c4x-* | c54x-* | c55x-* | c6x-* \
 	| clipper-* | craynv-* | cydra-* \
 	| d10v-* | d30v-* | dlx-* \
 	| elxsi-* \
-	| f30[01]-* | f700-* | fr30-* | frv-* | fx80-* \
+	| f30[01]-* | f700-* | fido-* | fr30-* | frv-* | fx80-* \
 	| h8300-* | h8500-* \
 	| hppa-* | hppa1.[01]-* | hppa2.0-* | hppa2.0[nw]-* | hppa64-* \
 	| i*86-* | i860-* | i960-* | ia64-* \
 	| ip2k-* | iq2000-* \
-	| m32r-* | m32rle-* \
+	| m32c-* | m32r-* | m32rle-* \
 	| m68000-* | m680[012346]0-* | m68360-* | m683?2-* | m68k-* \
 	| m88110-* | m88k-* | maxq-* | mcore-* \
 	| mips-* | mipsbe-* | mipseb-* | mipsel-* | mipsle-* \
@@ -336,30 +349,33 @@
 	| mipsisa64sr71k-* | mipsisa64sr71kel-* \
 	| mipstx39-* | mipstx39el-* \
 	| mmix-* \
-	| ms1-* \
+	| mt-* \
 	| msp430-* \
+	| nios-* | nios2-* \
 	| none-* | np1-* | ns16k-* | ns32k-* \
 	| orion-* \
 	| pdp10-* | pdp11-* | pj-* | pjl-* | pn-* | power-* \
 	| powerpc-* | powerpc64-* | powerpc64le-* | powerpcle-* | ppcbe-* \
 	| pyramid-* \
 	| romp-* | rs6000-* \
-	| sh-* | sh[1234]-* | sh[24]a-* | sh[23]e-* | sh[34]eb-* | shbe-* \
+	| sh-* | sh[1234]-* | sh[24]a-* | sh[23]e-* | sh[34]eb-* | sheb-* | shbe-* \
 	| shle-* | sh[1234]le-* | sh3ele-* | sh64-* | sh64le-* \
-	| sparc-* | sparc64-* | sparc64b-* | sparc86x-* | sparclet-* \
+	| sparc-* | sparc64-* | sparc64b-* | sparc64v-* | sparc86x-* | sparclet-* \
 	| sparclite-* \
-	| sparcv8-* | sparcv9-* | sparcv9b-* | strongarm-* | sv1-* | sx?-* \
+	| sparcv8-* | sparcv9-* | sparcv9b-* | sparcv9v-* | strongarm-* | sv1-* | sx?-* \
 	| tahoe-* | thumb-* \
 	| tic30-* | tic4x-* | tic54x-* | tic55x-* | tic6x-* | tic80-* \
 	| tron-* \
 	| v850-* | v850e-* | vax-* \
 	| we32k-* \
-	| x86-* | x86_64-* | xps100-* | xscale-* | xscalee[bl]-* \
-	| xstormy16-* | xtensa-* \
+	| x86-* | x86_64-* | xc16x-* | xps100-* | xscale-* | xscalee[bl]-* \
+	| xstormy16-* | xtensa*-* \
 	| ymp-* \
 	| z8k-*)
 		;;
-	m32c-*)
+	# Recognize the basic CPU types without company name, with glob match.
+	xtensa*)
+		basic_machine=$basic_machine-unknown
 		;;
 	# Recognize the various machine names and aliases which stand
 	# for a CPU type and a company and sometimes even an OS.
@@ -431,6 +447,14 @@
 		basic_machine=ns32k-sequent
 		os=-dynix
 		;;
+	blackfin)
+		basic_machine=bfin-unknown
+		os=-linux
+		;;
+	blackfin-*)
+		basic_machine=bfin-`echo $basic_machine | sed 's/^[^-]*-//'`
+		os=-linux
+		;;
 	c90)
 		basic_machine=c90-cray
 		os=-unicos
@@ -463,8 +487,8 @@
 		basic_machine=craynv-cray
 		os=-unicosmp
 		;;
-	cr16c)
-		basic_machine=cr16c-unknown
+	cr16)
+		basic_machine=cr16-unknown
 		os=-elf
 		;;
 	crds | unos)
@@ -656,6 +680,14 @@
 		basic_machine=m68k-isi
 		os=-sysv
 		;;
+	m68knommu)
+		basic_machine=m68k-unknown
+		os=-linux
+		;;
+	m68knommu-*)
+		basic_machine=m68k-`echo $basic_machine | sed 's/^[^-]*-//'`
+		os=-linux
+		;;
 	m88k-omron*)
 		basic_machine=m88k-omron
 		;;
@@ -671,6 +703,10 @@
 		basic_machine=i386-pc
 		os=-mingw32
 		;;
+	mingw32ce)
+		basic_machine=arm-unknown
+		os=-mingw32ce
+		;;
 	miniframe)
 		basic_machine=m68000-convergent
 		;;
@@ -696,6 +732,9 @@
 		basic_machine=i386-pc
 		os=-msdos
 		;;
+	ms1-*)
+		basic_machine=`echo $basic_machine | sed -e 's/ms1-/mt-/'`
+		;;
 	mvs)
 		basic_machine=i370-ibm
 		os=-mvs
@@ -794,6 +833,14 @@
 		basic_machine=i860-intel
 		os=-osf
 		;;
+	parisc)
+		basic_machine=hppa-unknown
+		os=-linux
+		;;
+	parisc-*)
+		basic_machine=hppa-`echo $basic_machine | sed 's/^[^-]*-//'`
+		os=-linux
+		;;
 	pbd)
 		basic_machine=sparc-tti
 		;;
@@ -803,6 +850,12 @@
 	pc532 | pc532-*)
 		basic_machine=ns32k-pc532
 		;;
+	pc98)
+		basic_machine=i386-pc
+		;;
+	pc98-*)
+		basic_machine=i386-`echo $basic_machine | sed 's/^[^-]*-//'`
+		;;
 	pentium | p5 | k5 | k6 | nexgen | viac3)
 		basic_machine=i586-pc
 		;;
@@ -859,6 +912,10 @@
 		basic_machine=i586-unknown
 		os=-pw32
 		;;
+	rdos)
+		basic_machine=i386-pc
+		os=-rdos
+		;;
 	rom68k)
 		basic_machine=m68k-rom68k
 		os=-coff
@@ -885,6 +942,10 @@
 	sb1el)
 		basic_machine=mipsisa64sb1el-unknown
 		;;
+	sde)
+		basic_machine=mipsisa32-sde
+		os=-elf
+		;;
 	sei)
 		basic_machine=mips-sei
 		os=-seiux
@@ -896,6 +957,9 @@
 		basic_machine=sh-hitachi
 		os=-hms
 		;;
+	sh5el)
+		basic_machine=sh5le-unknown
+		;;
 	sh64)
 		basic_machine=sh64-unknown
 		;;
@@ -985,6 +1049,10 @@
 		basic_machine=tic6x-unknown
 		os=-coff
 		;;
+	tile*)
+		basic_machine=tile-unknown
+		os=-linux-gnu
+		;;
 	tx39)
 		basic_machine=mipstx39-unknown
 		;;
@@ -1101,7 +1169,7 @@
 	sh[1234] | sh[24]a | sh[34]eb | sh[1234]le | sh[23]ele)
 		basic_machine=sh-unknown
 		;;
-	sparc | sparcv8 | sparcv9 | sparcv9b)
+	sparc | sparcv8 | sparcv9 | sparcv9b | sparcv9v)
 		basic_machine=sparc-sun
 		;;
 	cydra)
@@ -1174,21 +1242,23 @@
 	      | -aos* \
 	      | -nindy* | -vxsim* | -vxworks* | -ebmon* | -hms* | -mvs* \
 	      | -clix* | -riscos* | -uniplus* | -iris* | -rtu* | -xenix* \
-	      | -hiux* | -386bsd* | -knetbsd* | -mirbsd* | -netbsd* | -openbsd* \
+	      | -hiux* | -386bsd* | -knetbsd* | -mirbsd* | -netbsd* \
+	      | -openbsd* | -solidbsd* \
 	      | -ekkobsd* | -kfreebsd* | -freebsd* | -riscix* | -lynxos* \
 	      | -bosx* | -nextstep* | -cxux* | -aout* | -elf* | -oabi* \
 	      | -ptx* | -coff* | -ecoff* | -winnt* | -domain* | -vsta* \
 	      | -udi* | -eabi* | -lites* | -ieee* | -go32* | -aux* \
 	      | -chorusos* | -chorusrdb* \
 	      | -cygwin* | -pe* | -psos* | -moss* | -proelf* | -rtems* \
-	      | -mingw32* | -linux* | -linux-uclibc* | -uxpv* | -beos* | -mpeix* | -udk* \
+	      | -mingw32* | -linux-gnu* | -linux-newlib* | -linux-uclibc* \
+	      | -uxpv* | -beos* | -mpeix* | -udk* \
 	      | -interix* | -uwin* | -mks* | -rhapsody* | -darwin* | -opened* \
 	      | -openstep* | -oskit* | -conix* | -pw32* | -nonstopux* \
 	      | -storm-chaos* | -tops10* | -tenex* | -tops20* | -its* \
 	      | -os2* | -vos* | -palmos* | -uclinux* | -nucleus* \
 	      | -morphos* | -superux* | -rtmk* | -rtmk-nova* | -windiss* \
 	      | -powermax* | -dnix* | -nx6 | -nx7 | -sei* | -dragonfly* \
-	      | -skyos* | -haiku*)
+	      | -skyos* | -haiku* | -rdos* | -toppers* | -drops*)
 	# Remember, each alternative MUST END IN *, to match a version number.
 		;;
 	-qnx*)
@@ -1215,6 +1285,9 @@
 	-linux-dietlibc)
 		os=-linux-dietlibc
 		;;
+	-linux*)
+		os=`echo $os | sed -e 's|linux|linux-gnu|'`
+		;;
 	-sunos5*)
 		os=`echo $os | sed -e 's|sunos5|solaris2|'`
 		;;
@@ -1337,6 +1410,12 @@
 # system, and we'll never get to this point.
 
 case $basic_machine in
+        score-*)
+		os=-elf
+		;;
+        spu-*)
+		os=-elf
+		;;
 	*-acorn)
 		os=-riscix1.2
 		;;
@@ -1346,9 +1425,9 @@
 	arm*-semi)
 		os=-aout
 		;;
-    c4x-* | tic4x-*)
-        os=-coff
-        ;;
+        c4x-* | tic4x-*)
+        	os=-coff
+		;;
 	# This must come before the *-dec entry.
 	pdp10-*)
 		os=-tops20
@@ -1374,6 +1453,9 @@
 	m68*-cisco)
 		os=-aout
 		;;
+        mep-*)
+		os=-elf
+		;;
 	mips*-cisco)
 		os=-elf
 		;;
--- acct-6.4~pre1.orig/config.guess
+++ acct-6.4~pre1/config.guess
@@ -1,9 +1,10 @@
 #! /bin/sh
 # Attempt to guess a canonical system name.
 #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
-#   2000, 2001, 2002, 2003, 2004, 2005 Free Software Foundation, Inc.
+#   2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008
+#   Free Software Foundation, Inc.
 
-timestamp='2005-07-08'
+timestamp='2008-01-23'
 
 # This file is free software; you can redistribute it and/or modify it
 # under the terms of the GNU General Public License as published by
@@ -55,8 +56,8 @@
 GNU config.guess ($timestamp)
 
 Originally written by Per Bothner.
-Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005
-Free Software Foundation, Inc.
+Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001,
+2002, 2003, 2004, 2005, 2006, 2007, 2008 Free Software Foundation, Inc.
 
 This is free software; see the source for copying conditions.  There is NO
 warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
@@ -106,7 +107,7 @@
 trap "exitcode=\$?; (rm -f \$tmpfiles 2>/dev/null; rmdir \$tmp 2>/dev/null) && exit \$exitcode" 0 ;
 trap "rm -f \$tmpfiles 2>/dev/null; rmdir \$tmp 2>/dev/null; exit 1" 1 2 13 15 ;
 : ${TMPDIR=/tmp} ;
- { tmp=`(umask 077 && mktemp -d -q "$TMPDIR/cgXXXXXX") 2>/dev/null` && test -n "$tmp" && test -d "$tmp" ; } ||
+ { tmp=`(umask 077 && mktemp -d "$TMPDIR/cgXXXXXX") 2>/dev/null` && test -n "$tmp" && test -d "$tmp" ; } ||
  { test -n "$RANDOM" && tmp=$TMPDIR/cg$$-$RANDOM && (umask 077 && mkdir $tmp) ; } ||
  { tmp=$TMPDIR/cg-$$ && (umask 077 && mkdir $tmp) && echo "Warning: creating insecure temp directory" >&2 ; } ||
  { echo "$me: cannot create a temporary directory in $TMPDIR" >&2 ; exit 1 ; } ;
@@ -138,16 +139,6 @@
 UNAME_SYSTEM=`(uname -s) 2>/dev/null`  || UNAME_SYSTEM=unknown
 UNAME_VERSION=`(uname -v) 2>/dev/null` || UNAME_VERSION=unknown
 
-case "${UNAME_MACHINE}" in
-    i?86)
-	test -z "$VENDOR" && VENDOR=pc
-	;;
-    *)
-	test -z "$VENDOR" && VENDOR=unknown
-	;;
-esac
-test -f /etc/SuSE-release -o -f /.buildenv && VENDOR=suse
-
 # Note: order is significant - the case branches are not exclusive.
 
 case "${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}" in
@@ -170,6 +161,7 @@
 	    arm*) machine=arm-unknown ;;
 	    sh3el) machine=shl-unknown ;;
 	    sh3eb) machine=sh-unknown ;;
+	    sh5el) machine=sh5le-unknown ;;
 	    *) machine=${UNAME_MACHINE_ARCH}-unknown ;;
 	esac
 	# The Operating System including object format, if it has switched
@@ -216,8 +208,11 @@
     *:ekkoBSD:*:*)
 	echo ${UNAME_MACHINE}-unknown-ekkobsd${UNAME_RELEASE}
 	exit ;;
+    *:SolidBSD:*:*)
+	echo ${UNAME_MACHINE}-unknown-solidbsd${UNAME_RELEASE}
+	exit ;;
     macppc:MirBSD:*:*)
-	echo powerppc-unknown-mirbsd${UNAME_RELEASE}
+	echo powerpc-unknown-mirbsd${UNAME_RELEASE}
 	exit ;;
     *:MirBSD:*:*)
 	echo ${UNAME_MACHINE}-unknown-mirbsd${UNAME_RELEASE}
@@ -335,7 +330,7 @@
     sun4*:SunOS:5.*:* | tadpole*:SunOS:5.*:*)
 	echo sparc-sun-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
 	exit ;;
-    i86pc:SunOS:5.*:*)
+    i86pc:SunOS:5.*:* | i86xen:SunOS:5.*:*)
 	echo i386-pc-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
 	exit ;;
     sun4*:SunOS:6*:*)
@@ -537,7 +532,7 @@
 		echo rs6000-ibm-aix3.2
 	fi
 	exit ;;
-    *:AIX:*:[45])
+    *:AIX:*:[456])
 	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | sed 1q | awk '{ print $1 }'`
 	if /usr/sbin/lsattr -El ${IBM_CPU_ID} | grep ' POWER' >/dev/null 2>&1; then
 		IBM_ARCH=rs6000
@@ -774,12 +769,19 @@
 	echo ${UNAME_MACHINE}-unknown-bsdi${UNAME_RELEASE}
 	exit ;;
     *:FreeBSD:*:*)
-	echo ${UNAME_MACHINE}-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`
+	case ${UNAME_MACHINE} in
+	    pc98)
+		echo i386-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'` ;;
+	    amd64)
+		echo x86_64-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'` ;;
+	    *)
+		echo ${UNAME_MACHINE}-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'` ;;
+	esac
 	exit ;;
     i*:CYGWIN*:*)
 	echo ${UNAME_MACHINE}-pc-cygwin
 	exit ;;
-    i*:MINGW*:*)
+    *:MINGW*:*)
 	echo ${UNAME_MACHINE}-pc-mingw32
 	exit ;;
     i*:windows32*:*)
@@ -789,9 +791,18 @@
     i*:PW*:*)
 	echo ${UNAME_MACHINE}-pc-pw32
 	exit ;;
-    x86:Interix*:[34]*)
-	echo i586-pc-interix${UNAME_RELEASE}|sed -e 's/\..*//'
-	exit ;;
+    *:Interix*:[3456]*)
+    	case ${UNAME_MACHINE} in
+	    x86)
+		echo i586-pc-interix${UNAME_RELEASE}
+		exit ;;
+	    EM64T | authenticamd)
+		echo x86_64-unknown-interix${UNAME_RELEASE}
+		exit ;;
+	    IA64)
+		echo ia64-unknown-interix${UNAME_RELEASE}
+		exit ;;
+	esac ;;
     [345]86:Windows_95:* | [345]86:Windows_98:* | [345]86:Windows_NT:*)
 	echo i${UNAME_MACHINE}-pc-mks
 	exit ;;
@@ -804,7 +815,7 @@
     i*:UWIN*:*)
 	echo ${UNAME_MACHINE}-pc-uwin
 	exit ;;
-    amd64:CYGWIN*:*:*)
+    amd64:CYGWIN*:*:* | x86_64:CYGWIN*:*:*)
 	echo x86_64-unknown-cygwin
 	exit ;;
     p*:CYGWIN*:*)
@@ -825,25 +836,35 @@
 	echo ${UNAME_MACHINE}-pc-minix
 	exit ;;
     arm*:Linux:*:*)
-	echo ${UNAME_MACHINE}-${VENDOR}-linux
+	eval $set_cc_for_build
+	if echo __ARM_EABI__ | $CC_FOR_BUILD -E - 2>/dev/null \
+	    | grep -q __ARM_EABI__
+	then
+	    echo ${UNAME_MACHINE}-unknown-linux-gnu
+	else
+	    echo ${UNAME_MACHINE}-unknown-linux-gnueabi
+	fi
+	exit ;;
+    avr32*:Linux:*:*)
+	echo ${UNAME_MACHINE}-unknown-linux-gnu
 	exit ;;
     cris:Linux:*:*)
-	echo cris-axis-linux
+	echo cris-axis-linux-gnu
 	exit ;;
     crisv32:Linux:*:*)
-	echo crisv32-axis-linux
+	echo crisv32-axis-linux-gnu
 	exit ;;
     frv:Linux:*:*)
-    	echo frv-${VENDOR}-linux
+    	echo frv-unknown-linux-gnu
 	exit ;;
     ia64:Linux:*:*)
-	echo ${UNAME_MACHINE}-${VENDOR}-linux
+	echo ${UNAME_MACHINE}-unknown-linux-gnu
 	exit ;;
     m32r*:Linux:*:*)
-	echo ${UNAME_MACHINE}-${VENDOR}-linux
+	echo ${UNAME_MACHINE}-unknown-linux-gnu
 	exit ;;
     m68*:Linux:*:*)
-	echo ${UNAME_MACHINE}-${VENDOR}-linux
+	echo ${UNAME_MACHINE}-unknown-linux-gnu
 	exit ;;
     mips:Linux:*:*)
 	eval $set_cc_for_build
@@ -861,8 +882,12 @@
 	#endif
 	#endif
 EOF
-	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^CPU=`
-	test x"${CPU}" != x && { echo "${CPU}-${VENDOR}-linux"; exit; }
+	eval "`$CC_FOR_BUILD -E $dummy.c 2>/dev/null | sed -n '
+	    /^CPU/{
+		s: ::g
+		p
+	    }'`"
+	test x"${CPU}" != x && { echo "${CPU}-unknown-linux-gnu"; exit; }
 	;;
     mips64:Linux:*:*)
 	eval $set_cc_for_build
@@ -880,14 +905,21 @@
 	#endif
 	#endif
 EOF
-	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^CPU=`
-	test x"${CPU}" != x && { echo "${CPU}-${VENDOR}-linux"; exit; }
+	eval "`$CC_FOR_BUILD -E $dummy.c 2>/dev/null | sed -n '
+	    /^CPU/{
+		s: ::g
+		p
+	    }'`"
+	test x"${CPU}" != x && { echo "${CPU}-unknown-linux-gnu"; exit; }
 	;;
+    or32:Linux:*:*)
+	echo or32-unknown-linux-gnu
+	exit ;;
     ppc:Linux:*:*)
-	echo powerpc-${VENDOR}-linux
+	echo powerpc-unknown-linux-gnu
 	exit ;;
     ppc64:Linux:*:*)
-	echo powerpc64-${VENDOR}-linux
+	echo powerpc64-unknown-linux-gnu
 	exit ;;
     alpha:Linux:*:*)
 	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' < /proc/cpuinfo` in
@@ -901,33 +933,39 @@
         esac
 	objdump --private-headers /bin/sh | grep ld.so.1 >/dev/null
 	if test "$?" = 0 ; then LIBC="libc1" ; else LIBC="" ; fi
-	echo ${UNAME_MACHINE}-${VENDOR}-linux${LIBC}
+	echo ${UNAME_MACHINE}-unknown-linux-gnu${LIBC}
 	exit ;;
     parisc:Linux:*:* | hppa:Linux:*:*)
 	# Look for CPU level
 	case `grep '^cpu[^a-z]*:' /proc/cpuinfo 2>/dev/null | cut -d' ' -f2` in
-	  PA7*) echo hppa1.1-${VENDOR}-linux ;;
-	  PA8*) echo hppa2.0-${VENDOR}-linux ;;
-	  *)    echo hppa-${VENDOR}-linux ;;
+	  PA7*) echo hppa1.1-unknown-linux-gnu ;;
+	  PA8*) echo hppa2.0-unknown-linux-gnu ;;
+	  *)    echo hppa-unknown-linux-gnu ;;
 	esac
 	exit ;;
     parisc64:Linux:*:* | hppa64:Linux:*:*)
-	echo hppa64-${VENDOR}-linux
+	echo hppa64-unknown-linux-gnu
 	exit ;;
     s390:Linux:*:* | s390x:Linux:*:*)
 	echo ${UNAME_MACHINE}-ibm-linux
 	exit ;;
     sh64*:Linux:*:*)
-    	echo ${UNAME_MACHINE}-${VENDOR}-linux
+    	echo ${UNAME_MACHINE}-unknown-linux-gnu
 	exit ;;
     sh*:Linux:*:*)
-	echo ${UNAME_MACHINE}-${VENDOR}-linux
+	echo ${UNAME_MACHINE}-unknown-linux-gnu
 	exit ;;
     sparc:Linux:*:* | sparc64:Linux:*:*)
-	echo ${UNAME_MACHINE}-${VENDOR}-linux
+	echo ${UNAME_MACHINE}-unknown-linux-gnu
+	exit ;;
+    vax:Linux:*:*)
+	echo ${UNAME_MACHINE}-dec-linux-gnu
 	exit ;;
     x86_64:Linux:*:*)
-	echo x86_64-${VENDOR}-linux
+	echo x86_64-unknown-linux-gnu
+	exit ;;
+    xtensa*:Linux:*:*)
+    	echo ${UNAME_MACHINE}-unknown-linux-gnu
 	exit ;;
     i*86:Linux:*:*)
 	# The BFD linker knows what the default object file format is, so
@@ -942,18 +980,18 @@
 				    p'`
         case "$ld_supported_targets" in
 	  elf32-i386)
-		TENTATIVE="${UNAME_MACHINE}-${VENDOR}-linux"
+		TENTATIVE="${UNAME_MACHINE}-pc-linux-gnu"
 		;;
 	  a.out-i386-linux)
-		echo "${UNAME_MACHINE}-${VENDOR}-linuxaout"
+		echo "${UNAME_MACHINE}-pc-linux-gnuaout"
 		exit ;;
 	  coff-i386)
-		echo "${UNAME_MACHINE}-${VENDOR}-linuxcoff"
+		echo "${UNAME_MACHINE}-pc-linux-gnucoff"
 		exit ;;
 	  "")
-		# Either a pre-BFD a.out linker (linuxoldld) or
+		# Either a pre-BFD a.out linker (linux-gnuoldld) or
 		# one that does not give us useful --help.
-		echo "${UNAME_MACHINE}-${VENDOR}-linuxoldld"
+		echo "${UNAME_MACHINE}-pc-linux-gnuoldld"
 		exit ;;
 	esac
 	# Determine whether the default compiler is a.out or elf
@@ -971,7 +1009,7 @@
 	LIBC=gnulibc1
 	# endif
 	#else
-	#ifdef __INTEL_COMPILER
+	#if defined(__INTEL_COMPILER) || defined(__PGI) || defined(__SUNPRO_C) || defined(__SUNPRO_CC)
 	LIBC=gnu
 	#else
 	LIBC=gnuaout
@@ -981,9 +1019,13 @@
 	LIBC=dietlibc
 	#endif
 EOF
-	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^LIBC=`
+	eval "`$CC_FOR_BUILD -E $dummy.c 2>/dev/null | sed -n '
+	    /^LIBC/{
+		s: ::g
+		p
+	    }'`"
 	test x"${LIBC}" != x && {
-		echo "${UNAME_MACHINE}-${VENDOR}-linux-${LIBC}" | sed 's/linux-gnu/linux/'
+		echo "${UNAME_MACHINE}-pc-linux-${LIBC}"
 		exit
 	}
 	test x"${TENTATIVE}" != x && { echo "${TENTATIVE}"; exit; }
@@ -1183,6 +1225,15 @@
     SX-6:SUPER-UX:*:*)
 	echo sx6-nec-superux${UNAME_RELEASE}
 	exit ;;
+    SX-7:SUPER-UX:*:*)
+	echo sx7-nec-superux${UNAME_RELEASE}
+	exit ;;
+    SX-8:SUPER-UX:*:*)
+	echo sx8-nec-superux${UNAME_RELEASE}
+	exit ;;
+    SX-8R:SUPER-UX:*:*)
+	echo sx8r-nec-superux${UNAME_RELEASE}
+	exit ;;
     Power*:Rhapsody:*:*)
 	echo powerpc-apple-rhapsody${UNAME_RELEASE}
 	exit ;;
@@ -1192,7 +1243,6 @@
     *:Darwin:*:*)
 	UNAME_PROCESSOR=`uname -p` || UNAME_PROCESSOR=unknown
 	case $UNAME_PROCESSOR in
-	    *86) UNAME_PROCESSOR=i686 ;;
 	    unknown) UNAME_PROCESSOR=powerpc ;;
 	esac
 	echo ${UNAME_PROCESSOR}-apple-darwin${UNAME_RELEASE}
@@ -1271,6 +1321,9 @@
     i*86:skyos:*:*)
 	echo ${UNAME_MACHINE}-pc-skyos`echo ${UNAME_RELEASE}` | sed -e 's/ .*$//'
 	exit ;;
+    i*86:rdos:*:*)
+	echo ${UNAME_MACHINE}-pc-rdos
+	exit ;;
 esac
 
 #echo '(No uname command or uname output not recognized.)' 1>&2
@@ -1431,9 +1484,9 @@
 the operating system you are using. It is advised that you
 download the most up to date version of the config scripts from
 
-  http://savannah.gnu.org/cgi-bin/viewcvs/*checkout*/config/config/config.guess
+  http://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess;hb=HEAD
 and
-  http://savannah.gnu.org/cgi-bin/viewcvs/*checkout*/config/config/config.sub
+  http://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub;hb=HEAD
 
 If the version you run ($0) is already up to date, please
 send the following data and any information you think might be
